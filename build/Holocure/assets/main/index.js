window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AxeThrower:[function(t,e,o){"use strict";cc._RF.push(e,"4e79aVG3qNNep+5RXQzL/d+","AxeThrower");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ProjectilePooling"),l=t("./SpiralProjectile"),p=t("./Weapon"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.axe=null,e.player=null,e.parent=null,e.throwSound=null,e.hitLimit=10,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.weaponOnLoad(),this.durationPercentage=0,this.timer=0,this.description="Throw an axe that spirals outward from the player.";for(var t=0;t<10;++t){var e=cc.instantiate(this.axe);e.parent=this.node.parent.parent,c.default.instance.axePool.put(e)}},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase size of axe by 20%. Increase damage of axe by 20%.",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Reduce delay between attacks by 20%.",this.updateStats(20,0,0,0,20,0);break;case 3:this.description="Increase damage by 33%",this.updateStats(0,0,0,20,0,0);break;case 4:this.description="Remove hit limit, and lasts 1 second longer.",this.updateStats(33,0,0,0,0,0);break;case 5:this.description="Increase attack size by 30%.",this.updateStats(0,0,99999999,0,0,33.3);break;case 6:this.description="Increase damage by 50%.",this.updateStats(0,0,0,0,30,0);break;case 7:this.updateStats(50,0,0,0,0,0)}},e.prototype.spawnAxe=function(){var t=null;(t=c.default.instance.axePool.size()>0?c.default.instance.axePool.get():cc.instantiate(this.axe)).opacity=0,cc.tween(t).to(.05,{opacity:255}).start(),t.parent=this.parent,t.getComponent(l.default).setStats(this.resultDamagePercentage,this.baseDamage,this.resultWeaponScalePercentage,this.hitLimit,this.durationPercentage,this.player)},e.prototype.updateStats=function(t,e,o,n,i,r){this.damagePercentage+=t,this.baseDamage+=e,this.hitLimit+=o,this.attackSpeedPercentage+=n,this.weaponScalePercentage+=i,this.durationPercentage+=r,this.onStatChange()},e.prototype.throwAxe=function(){this.timer<0&&("true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.throwSound,!1,1),this.timer=this.attackSpeed,this.spawnAxe())},e.prototype.start=function(){},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&(this.timer-=t,this.throwAxe())},r([d(cc.Prefab)],e.prototype,"axe",void 0),r([d(cc.Node)],e.prototype,"player",void 0),r([d(cc.Node)],e.prototype,"parent",void 0),r([d(cc.AudioClip)],e.prototype,"throwSound",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ProjectilePooling":"ProjectilePooling","./SpiralProjectile":"SpiralProjectile","./Weapon":"Weapon"}],BaneOfRegeneration:[function(t,e,o){"use strict";cc._RF.push(e,"71e5c8EZ9hGzqsKPVNjQ4gS","BaneOfRegeneration");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Player/PlayerController"),l=t("./Item"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.regenTick=5,e.timer=0,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.description="Recover health by 1 every 5 seconds.",this.itemOnLoad(),a.default.instance.addItem(this)},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Recover health by 1 every 4 seconds.",this.isEquiped=!0,a.default.instance.addEquipedItem(this);break;case 2:this.description="Recover health by 1 every 3 seconds.",this.updateStats(4);break;case 3:this.description="Recover health by 1 every 2 seconds.",this.updateStats(3);break;case 4:this.description="Recover health by 1 every second.",this.updateStats(2);break;case 5:this.updateStats(1)}},e.prototype.regenPlayer=function(){this.timer<0&&(this.timer=this.regenTick,c.default.instance.regenHP(1))},e.prototype.updateStats=function(t){this.regenTick=t},e.prototype.start=function(){},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&(this.timer-=t,this.regenPlayer())},r([u(cc.Float)],e.prototype,"regenTick",void 0),o=r([h],e)}(l.default);o.default=d,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Player/PlayerController":"PlayerController","./Item":"Item"}],BarslideEffect:[function(t,e,o){"use strict";cc._RF.push(e,"9e3abgvaPBOdbNJQ+GA/29X","BarslideEffect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=cc.v2(800,-215),e.endPoint=cc.v2(-800,-215),e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.node.x-=100*t,this.node.x<=this.endPoint.x&&(this.node.x=this.startPoint.x)},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],BloodyTear:[function(t,e,o){"use strict";cc._RF.push(e,"19443nnzbdGfbWyTgARfsWa","BloodyTear");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Player/PlayerController"),l=t("./Item"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.healingAmount=2,e.healingChance=30,e.refreshTimer=.25,e.timer=.25,e.killCount=0,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.itemOnLoad(),this.player=c.default.instance,this.description="When defeating a target, there is a 30% chance to life-steal 2 HP."},e.prototype.start=function(){},e.prototype.updateStats=function(t,e){this.healingAmount+=t,this.healingChance+=e},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="When defeating a target, there is a 30% chance to life-steal 4 HP.",this.isEquiped=!0,a.default.instance.addEquipedItem(this);break;case 2:this.description="When defeating a target, there is a 30% chance to life-steal 6 HP.",this.updateStats(2,0);break;case 3:this.updateStats(2,0)}},e.prototype.healPlayer=function(t){if(this.timer-=t,this.timer<0&&this.killCount!=a.default.instance.killAmount){this.timer=this.refreshTimer,this.killCount=a.default.instance.killAmount;var e=this.healingChance/100;Math.random()<e&&this.player.heal(this.healingAmount)}},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&this.healPlayer(t)},r([u(cc.Float)],e.prototype,"healingAmount",void 0),r([u(cc.Float)],e.prototype,"healingChance",void 0),r([u(cc.Float)],e.prototype,"refreshTimer",void 0),o=r([h],e)}(l.default);o.default=d,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Player/PlayerController":"PlayerController","./Item":"Item"}],Bow:[function(t,e,o){"use strict";cc._RF.push(e,"394a8cmyw1OyaFaWHS8D/+J","Bow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ProjectilePooling"),l=t("../Player/EnemyDetector"),p=t("./Projectile"),h=t("./Weapon"),u=cc._decorator,d=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrow=null,e.player=null,e.parent=null,e.shootSound=null,e.hitLimit=1,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.weaponOnLoad(),o.instance=this,this.baseAS=this.attackSpeed,this.timer=0,this.description="Fires rapid tears at random targets.";for(var t=0;t<9;++t){var e=cc.instantiate(this.arrow);e.parent=this.node.parent.parent,c.default.instance.arrowPool.put(e)}},e.prototype.start=function(){},e.prototype.spawnArrow=function(t){"true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.shootSound,!1,1);var e=null;(e=c.default.instance.arrowPool.size()>0?c.default.instance.arrowPool.get():cc.instantiate(this.arrow)).opacity=0,cc.tween(e).to(.05,{opacity:255}).start(),e.parent=this.parent,e.getComponent(p.default).set(this.resultDamagePercentage,this.baseDamage,this.resultWeaponScalePercentage,this.hitLimit,t,this.player.position)},e.prototype.shootArrowAtEnemy=function(){if(this.timer<0){this.timer=this.attackSpeed;var t=l.default.instance.enemyList[0];this.spawnArrow(t)}},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increare damage by 20%",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Reduce time between attacks by 20%",this.updateStats(20,0,0,0,0);break;case 3:this.description="Reduce time between attacks by 20%",this.updateStats(0,0,20,0,0);break;case 4:this.description="Increare damage by 30%",this.updateStats(0,0,20,0,0);break;case 5:this.description="Reduce time between attacks by 20%",this.updateStats(30,0,0,0,0);break;case 6:this.description="Increare damage by 30%",this.updateStats(0,0,20,0,0);break;case 7:this.updateStats(30,0,0,0,0)}},e.prototype.updateStats=function(t,e,o,n,i){this.damagePercentage+=t,this.baseDamage+=e,this.attackSpeedPercentage+=o,this.weaponScalePercentage+=n,this.hitLimit+=i,this.onStatChange()},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&(this.timer-=t,this.shootArrowAtEnemy())},r([f(cc.Prefab)],e.prototype,"arrow",void 0),r([f(cc.Node)],e.prototype,"player",void 0),r([f(cc.Node)],e.prototype,"parent",void 0),r([f(cc.AudioClip)],e.prototype,"shootSound",void 0),o=r([d],e)}(h.default);o.default=y,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ProjectilePooling":"ProjectilePooling","../Player/EnemyDetector":"EnemyDetector","./Projectile":"Projectile","./Weapon":"Weapon"}],Button:[function(t,e,o){"use strict";cc._RF.push(e,"eaf99P7GNlGm5wNAwn6/BdW","Button");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpr=null,e.hoverSpr=null,e.other=null,e.isFaded=!1,e.buttonSound=null,e.changeOnHover=!0,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onTouchStart,this,!0),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onTouchEnd,this,!0),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0)},e.prototype.onTouchStart=function(){this.changeOnHover&&(this.node.getChildByName("Label").color=new cc.Color(0,0,0),this.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=this.hoverSpr,this.node.getChildByName("Background").opacity=255,this.other&&(this.other.color=new cc.Color(0,0,0)))},e.prototype.onSoundButtonCLick=function(){"true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),"true"==a.default.getLocal("Sound")?a.default.setLocal("Sound",!1):a.default.setLocal("Sound",!0)},e.prototype.onTouchEnd=function(){"true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),this.changeOnHover&&(this.node.getChildByName("Label").color=new cc.Color(255,255,255),this.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=this.normalSpr,this.isFaded&&(this.node.getChildByName("Background").opacity=150),this.other&&(this.other.color=new cc.Color(255,255,255)))},e.prototype.start=function(){},e.prototype.update=function(){},r([l(cc.SpriteFrame)],e.prototype,"normalSpr",void 0),r([l(cc.SpriteFrame)],e.prototype,"hoverSpr",void 0),r([l(cc.Node)],e.prototype,"other",void 0),r([l(cc.Boolean)],e.prototype,"isFaded",void 0),r([l(cc.AudioClip)],e.prototype,"buttonSound",void 0),r([l(cc.Boolean)],e.prototype,"changeOnHover",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Controller/Utils":"Utils"}],CameraController:[function(t,e,o){"use strict";cc._RF.push(e,"f725fGxpxdIvrW5nqKPk49r","CameraController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Player=null,e.UI=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){this.node.setPosition(this.Player.position),this.UI.setPosition(this.Player.position)},r([c(cc.Node)],e.prototype,"Player",void 0),r([c(cc.Node)],e.prototype,"UI",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Coin:[function(t,e,o){"use strict";cc._RF.push(e,"6456cNTILNO74xFxkRLqkyK","Coin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ObjectPooling"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amount=10,e.getCoinSound=null,e.isLooted=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=10001,c.default.instance.addToCoinList(this.node)},e.prototype.set=function(t){this.amount=t,this.isLooted=!1},e.prototype.onCollisionEnter=function(t){0==t.tag&&("true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.getCoinSound,!1,1),a.default.instance.gainCoin(this.amount),this.isLooted=!0,c.default.instance.putBackToPool(this.node))},r([h(cc.Integer)],e.prototype,"amount",void 0),r([h(cc.AudioClip)],e.prototype,"getCoinSound",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ObjectPooling":"ObjectPooling"}],DeathHeart:[function(t,e,o){"use strict";cc._RF.push(e,"b6b87JGRk9Pf5DBIitGJ8Hm","DeathHeart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vec2=cc.v2(1,0),e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.angle=Math.sqrt(this.vec2.x*this.vec2.x-this.vec2.y*this.vec2.y),Math.atan2(this.vec2.y,this.vec2.x);var e=cc.v2(300*this.vec2.x*t*this.angle,300*this.vec2.y*t*-this.angle);0==e.x&&0==e.y&&this.node.destroy(),this.node.x+=e.x,this.node.y+=e.y},r([c(cc.Vec2)],e.prototype,"vec2",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],DestroyableObject:[function(t,e,o){"use strict";cc._RF.push(e,"bbc57hCFpRHALPri/eMuEs/","DestroyableObject");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.food=null,e.foodDropChance=20,e}return i(e,t),e.prototype.takeDamage=function(){this.node.destroy()},e.prototype.onCollisionEnter=function(t){2==t.tag&&this.takeDamage()},e.prototype.onDestroy=function(){a.default.random(0,100)<this.foodDropChance&&(cc.instantiate(this.food).position=this.node.position)},e.prototype.start=function(){},e.prototype.update=function(){},r([l(cc.Prefab)],e.prototype,"food",void 0),r([l(cc.Float)],e.prototype,"foodDropChance",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Controller/Utils":"Utils"}],Dumbbell:[function(t,e,o){"use strict";cc._RF.push(e,"df1d1uxaA5KSLgkH7jmHlKq","Dumbbell");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Player/HealthAndShield"),l=t("../Player/PlayerController"),p=t("./Item"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpRate=10,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.itemOnLoad(),o.instance=this,this.description="Increase max HP by 10%."},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase max HP by 20%.",this.isEquiped=!0,a.default.instance.addEquipedItem(this),this.loadStats();break;case 2:this.description="Increase max HP by 30%.",this.updateStats(10);break;case 3:this.description="Increase max HP by 40%.",this.updateStats(10);break;case 4:this.description="Increase max HP by 50%.",this.updateStats(10);break;case 5:this.updateStats(10)}},e.prototype.loadStats=function(){this.overallStats.increaseMaxHPRate(this.hpRate),c.default.instance.setStateHP(l.default.instance.currentHp,l.default.instance.maxHp)},e.prototype.updateStats=function(t){this.overallStats.increaseMaxHPRate(t),this.hpRate+=t,c.default.instance.setStateHP(l.default.instance.currentHp,l.default.instance.maxHp)},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),s.default.isPause||this.isEquiped},r([d(cc.Float)],e.prototype,"hpRate",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Player/HealthAndShield":"HealthAndShield","../Player/PlayerController":"PlayerController","./Item":"Item"}],EnemyController:[function(t,e,o){"use strict";cc._RF.push(e,"9b005LVzC1K0qBYhpqip+/e","EnemyController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ObjectPooling"),l=t("../Player/OverallStats"),p=t("../Player/PlayerController"),h=t("./EnemyManager"),u=cc._decorator,d=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=.5,e.maxHp=20,e.scale=1,e.currentHp=20,e.damage=2,e.expDropAmount=8,e.hitSound=null,e.damageTick=0,e.player=null,e.gainKilled=!1,e.isInRange=!1,e}return i(e,t),e.prototype.onLoad=function(){this.isFlip=!1,this.isInRange=!1,this.player=this.node.parent.getChildByName("PlayerBase"),this.node.zIndex=3e4,this.moveVec=cc.Vec2.ZERO,this.currentHp=this.maxHp,this.deltaX=0},e.prototype.setter=function(t,e,o,n,i){this.speed=t,this.maxHp=e,this.scale=o,this.damage=n,this.currentHp=e,this.expDropAmount=i,this.getComponent(cc.Collider).enabled=!0,this.node.opacity=255,this.isKilled=!1,this.gainKilled=!1,this.isInRange=!1,this.node.scale=o},e.prototype.resetStat=function(){this.currentHp=this.maxHp,this.getComponent(cc.Collider).enabled=!0,this.node.opacity=255,this.isKilled=!1,this.gainKilled=!1,this.isInRange=!1},e.prototype.takeDamage=function(t){"true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.hitSound,!1,.5);var e=l.default.instance.getCritChance()/100;Math.random()<=e&&(t=t*(l.default.instance.getCritDamageRate()+150)/100),this.currentHp-=t,this.node.getChildByName("OnHitFrame").active=!0,this.scheduleOnce(function(){this.node.getChildByName("OnHitFrame").active=!1},.025)},e.prototype.takeDamageWithTick=function(t,e){if(!(this.takeDamageTick>0)){"true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.hitSound,!1,.5),this.takeDamageTick=e;var o=l.default.instance.getCritChance()/100;Math.random()<=o&&(t=t*(l.default.instance.getCritDamageRate()+150)/100),this.currentHp-=t,this.node.getChildByName("OnHitFrame").active=!0,this.scheduleOnce(function(){this.node.getChildByName("OnHitFrame").active=!1},.025)}},e.prototype.onCollisionStay=function(t){0==t.tag&&this.damageTick<0&&(this.damageTick=.5,p.default.instance.takeDamage(this.damage))},e.prototype.start=function(){},e.prototype.moveToPlayer=function(t){if(this.currentHp>0){var e=this.player.x-this.node.x,o=this.player.y-this.node.y,n=cc.v2(e,o).normalize();Math.sqrt(e*e+o*o)>2&&(n.x>0?(this.isFlip=!1,this.node.scaleX=this.scale):(this.isFlip=!0,this.node.scaleX=-this.scale)),this.node.x+=n.x*this.speed*175*t,this.node.y+=n.y*this.speed*175*t}},e.prototype.dropExp=function(){c.default.instance.generateExp(this.node,this.expDropAmount)},e.prototype.dropFood=function(){c.default.instance.generateFood(this.node)},e.prototype.dropCoin=function(){var t=s.default.randomFloor(10,50);c.default.instance.generateCoin(this.node,t)},e.prototype.dropRainbowExp=function(){c.default.instance.generateMagnet(this.node)},e.prototype.calculateDistance=function(){var t=(this.player.x-this.node.x)*(this.player.x-this.node.x),e=(this.player.y-this.node.y)*(this.player.y-this.node.y);this.distance=Math.sqrt(t+e)},e.prototype.onEnemyKill=function(t){var e=this;if(this.currentHp<=0&&(this.isKilled=!0,this.isFlip?(this.node.x+=150*t,this.node.opacity-=500*t):(this.node.x-=150*t,this.node.opacity-=500*t),this.isKilled&&!this.gainKilled)){a.default.instance.gainKill();var o=Math.random();o<5e-4?this.dropRainbowExp():o<.005?this.dropFood():o<1/90?this.dropCoin():this.dropExp(),this.gainKilled=!0,this.node.getComponent(cc.PolygonCollider).enabled=!1,setTimeout(function(){h.default.instance.putBackToPool(e.node)},300)}},e.prototype.update=function(t){s.default.isPause?this.node.getComponent(cc.Animation).pause():(this.node.getComponent(cc.Animation).resume(),this.currentHp>0&&(this.isKilled=!1),this.damageTick-=t,this.takeDamageTick-=t,this.moveToPlayer(t),this.onEnemyKill(t),this.calculateDistance())},r([f(cc.Float)],e.prototype,"speed",void 0),r([f(cc.Float)],e.prototype,"maxHp",void 0),r([f(cc.Float)],e.prototype,"scale",void 0),r([f(cc.Float)],e.prototype,"damage",void 0),r([f(cc.Integer)],e.prototype,"expDropAmount",void 0),r([f(cc.AudioClip)],e.prototype,"hitSound",void 0),r([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ObjectPooling":"ObjectPooling","../Player/OverallStats":"OverallStats","../Player/PlayerController":"PlayerController","./EnemyManager":"EnemyManager"}],EnemyDetector:[function(t,e,o){"use strict";cc._RF.push(e,"67d3e0TzONHGZRKEdQvuuLc","EnemyDetector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Enemy/EnemyController"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closestDistance=1e5,e.closestEnemy=null,e.enemyList=new Array,e.distanceList=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.onCollisionEnter=function(t){1==t.tag&&(t.node.getComponent(a.default).isInRange=!0,this.enemyList.push(t.node))},e.prototype.onCollisionExit=function(t){1==t.tag&&(t.node.getComponent(a.default).isInRange=!1)},e.prototype.start=function(){},e.prototype.removeFromList=function(){this.enemyList=this.enemyList.filter(function(t){return t.getComponent(a.default).currentHp>0}).filter(function(t){return 1==t.getComponent(a.default).isInRange})},e.prototype.sortList=function(){this.enemyList=this.enemyList.sort(function(t,e){return t.getComponent(a.default).distance-e.getComponent(a.default).distance})},e.prototype.update=function(){this.removeFromList(),this.sortList()},o=r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../Enemy/EnemyController":"EnemyController"}],EnemyManager:[function(t,e,o){"use strict";cc._RF.push(e,"fec23dgw3BLY4Mqz81ctXpY","EnemyManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("./EnemyController"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.gameplay=null,e.player=null,e.enemyPrefab=new Array,e.spawnTimer=2,e.enemyPool=new Array,e.batPool=null,e.ghostPool=null,e.povSize=null,e.spawnArea=null,e.spawnAreaMax=null,e.timer=3,e.currentTime=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.loadPool(),this.povSize=cc.v2(1e3,1e3),this.timer=5,this.spawnAmount=5,this.spawnRadius=200,this.spawnArea=cc.v2(this.povSize.x+this.spawnRadius,this.povSize.y+this.spawnRadius)},e.prototype.loadPool=function(){for(var t=0;t<this.enemyPrefab.length;t++){for(var e=new cc.NodePool,o=0;o<20;o++){var n=cc.instantiate(this.enemyPrefab[t]);e.put(n)}this.enemyPool.push(e)}},e.prototype.spawnEnemy=function(t,e,o,n,i,r,a){for(var s=0;s<t;s++){var l=null;(l=this.enemyPool[a].size()>0?this.enemyPool[a].get():cc.instantiate(this.enemyPrefab[a])).getComponent(c.default).setter(e,o,n,i,r),l.parent=this.gameplay,l.position=this.generateRandomPosition()}},e.prototype.spawnDefaultEnemy=function(t,e){for(var o=0;o<t;o++){var n=null;(n=this.enemyPool[e].size()>0?this.enemyPool[e].get():cc.instantiate(this.enemyPrefab[e])).getComponent(c.default).resetStat(),n.parent=this.gameplay,n.position=this.generateRandomPosition()}},e.prototype.endlessSpawn=function(){var t=Math.floor(a.default.instance.timer/3600),e=Math.floor((a.default.instance.timer-3600*t)/60),o=e<=23?37*t:37*t+(e-23),n=15+2*o,i=1+.12*o<3?1+.12*o:3,r=5e3+250*o;this.spawnEnemy(1,i,r,1.5,n,25,15),this.spawnEnemy(1,i,r,1.3,n,25,14),this.spawnEnemy(1,i,r,1.5,n,25,9),this.spawnEnemy(1,i,r,1.5,n,25,24),this.spawnEnemy(1,i,r,1.5,n,25,10),this.spawnEnemy(1,i,r,1.5,n,25,5),this.spawnEnemy(1,i,r,1.5,n,25,6),this.spawnEnemy(1,i,r,1.5,n,25,23),this.spawnEnemy(1,i,r,1.5,n,25,11),this.spawnEnemy(1,i,r,1.5,n,25,22),this.spawnEnemy(1,i,r,1.5,n,25,19),this.spawnEnemy(1,i,r,1.5,n,25,21)},e.prototype.start=function(){},e.prototype.generateRandomPosition=function(){var t=cc.Vec3.ZERO;t.x=this.player.x,t.y=this.player.y;var e=s.default.random(0,1)>.5?-1:1;return s.default.random(0,1)>.5?(t.x+=s.default.random(-this.spawnArea.x,this.spawnArea.x),t.y+=this.spawnArea.y*e):(t.y+=s.default.random(-this.spawnArea.y,this.spawnArea.y),t.x+=this.spawnArea.x*e),t},e.prototype.putBackToPool=function(t){if(t)for(var e=0;e<this.enemyPrefab.length;e++)t.name==this.enemyPrefab[e].name&&this.enemyPool[e].put(t)},e.prototype.update=function(t){this.currentTime=a.default.instance.timer,s.default.isPause||(this.timer-=t,this.timer<0&&(this.currentTime<180&&this.currentTime>0&&this.spawnDefaultEnemy(1,0),this.currentTime<300&&this.currentTime>30&&this.spawnDefaultEnemy(1,1),this.currentTime<300&&this.currentTime>180&&this.spawnDefaultEnemy(3,2),this.currentTime<360&&this.currentTime>240&&this.spawnDefaultEnemy(6,3),this.currentTime<510&&this.currentTime>300&&this.spawnDefaultEnemy(3,4),this.currentTime<660&&this.currentTime>300&&(this.spawnDefaultEnemy(2,5),this.spawnDefaultEnemy(2,6)),this.currentTime<510&&this.currentTime>355&&this.spawnDefaultEnemy(3,7),this.currentTime<660&&this.currentTime>330&&this.spawnDefaultEnemy(3,8),this.currentTime<660&&this.currentTime>455&&this.spawnDefaultEnemy(3,9),this.currentTime<660&&this.currentTime>570&&this.spawnDefaultEnemy(6,10),this.currentTime<840&&this.currentTime>660&&this.spawnDefaultEnemy(12,11),this.currentTime<840&&this.currentTime>720&&(this.spawnDefaultEnemy(2,12),this.spawnDefaultEnemy(2,13)),this.currentTime<960&&this.currentTime>840&&(this.spawnDefaultEnemy(6,14),this.spawnDefaultEnemy(6,15)),this.currentTime<1140&&this.currentTime>945&&(this.spawnDefaultEnemy(2,16),this.spawnDefaultEnemy(2,17),this.spawnDefaultEnemy(2,18),this.spawnDefaultEnemy(2,19),this.spawnDefaultEnemy(2,20)),this.currentTime<1140&&this.currentTime>1080&&this.spawnDefaultEnemy(2,21),this.currentTime<1140&&this.currentTime>1200&&(this.spawnDefaultEnemy(3,22),this.spawnDefaultEnemy(3,23)),this.currentTime<1200&&this.currentTime>1380&&this.spawnDefaultEnemy(6,24),this.currentTime>1380&&(this.spawnTimer=5,this.endlessSpawn()),this.timer=this.spawnTimer))},r([h(cc.Canvas)],e.prototype,"canvas",void 0),r([h(cc.Node)],e.prototype,"gameplay",void 0),r([h(cc.Node)],e.prototype,"player",void 0),r([h(Array(cc.Prefab))],e.prototype,"enemyPrefab",void 0),o=r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","./EnemyController":"EnemyController"}],Experience:[function(t,e,o){"use strict";cc._RF.push(e,"c54a1Bbd9xDxK3MtppYqqc9","Experience");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=t("../Manager/Level"),c=t("../Manager/ObjectPooling"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exp=10,e.getExpSound=null,e.isLooted=!1,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=1e4,c.default.instance.addToExpList(this.node)},e.prototype.set=function(t){this.exp=t,this.isLooted=!1},e.prototype.onCollisionEnter=function(t){0==t.tag&&("true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.getExpSound,!1,1),s.default.instance.addExperience(this.exp),this.isLooted=!0,c.default.instance.putBackToPool(this.node))},e.prototype.start=function(){},r([h(cc.Float)],e.prototype,"exp",void 0),r([h(cc.AudioClip)],e.prototype,"getExpSound",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Controller/Utils":"Utils","../Manager/Level":"Level","../Manager/ObjectPooling":"ObjectPooling"}],EyePatch:[function(t,e,o){"use strict";cc._RF.push(e,"d1974n/pm1CzK9jxRhrk9G8","EyePatch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/UIController"),c=t("../Controller/Utils"),l=t("./Item"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxCrit=10,e.critPerSec=1,e.buffIcon=null,e.timer=1,e.currentStack=0,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.description="Gain 1% crit buff every second up to 10%. If taking damage by a target, lose half the buff.",this.itemOnLoad()},e.prototype.start=function(){},e.prototype.gainStack=function(){if(this.timer<0&&(this.timer=this.critPerSec,this.currentStack<this.maxCrit)){var t=this.currentStack;this.currentStack+=1,this.overallStats.increaseCritChance(this.currentStack-t)}},e.prototype.onTakeDamage=function(){if(this.isEquiped){var t=this.currentStack;this.currentStack=Math.floor(this.currentStack/2),this.overallStats.increaseCritChance(this.currentStack-t)}},e.prototype.updateStats=function(t){this.maxCrit+=t},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:a.default.instance.dynamicBuff.push(this),s.default.instance.addNewBuff(this),a.default.instance.addEquipedItem(this),this.description="Gain 1% crit buff every second up to 15%. If taking damage by a target, lose half the buff.",this.isEquiped=!0;break;case 2:this.description="Gain 1% crit buff every second up to 20%. If taking damage by a target, lose half the buff.",this.updateStats(5);break;case 3:this.updateStats(5)}},e.prototype.getCounting=function(){return this.currentStack},e.prototype.update=function(t){this.onLevelUp(),c.default.isPause||this.isEquiped&&(this.timer-=t,this.gainStack())},r([u(cc.Integer)],e.prototype,"maxCrit",void 0),r([u(cc.Integer)],e.prototype,"critPerSec",void 0),r([u(cc.SpriteFrame)],e.prototype,"buffIcon",void 0),o=r([h],e)}(l.default);o.default=d,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/UIController":"UIController","../Controller/Utils":"Utils","./Item":"Item"}],Food:[function(t,e,o){"use strict";cc._RF.push(e,"b6b16W8rZdMKbG2uFBWxHd6","Food");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Manager/ObjectPooling"),s=t("../Player/PlayerController"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.healAmount=20,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=10001},e.prototype.onCollisionEnter=function(t){0==t.tag&&(t.node.getComponent(s.default).healByPercentage(this.healAmount),a.default.instance.putBackToPool(this.node))},e.prototype.start=function(){},r([p(cc.Integer)],e.prototype,"healAmount",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Manager/ObjectPooling":"ObjectPooling","../Player/PlayerController":"PlayerController"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"d5413AXpftMwoBmVDgpSUYq","GameController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./SlotController"),s=t("./UIController"),c=t("./Utils"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameOverSound=null,e.timer=0,e.killAmount=0,e.coinAmount=0,e.dynamicBuff=new Array,e.itemList=new Array,e.weaponList=new Array,e.equipedWeapon=new Array,e.equipedItem=new Array,e.isGameOver=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,c.default.isPause=!1,cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},e.prototype.gainKill=function(){this.killAmount++,s.default.instance.updateKillLabel(this.killAmount)},e.prototype.gainCoin=function(t){this.coinAmount+=t,s.default.instance.updateCoinLabel(this.coinAmount)},e.prototype.takeDamage=function(){for(var t=0;t<this.dynamicBuff.length;t++)this.dynamicBuff[t].onTakeDamage()},e.prototype.addWeapon=function(t){this.weaponList.push(t)},e.prototype.addEquipedWeapon=function(t){this.equipedWeapon.push(t)},e.prototype.addItem=function(t){this.itemList.push(t)},e.prototype.addEquipedItem=function(t){this.equipedItem.push(t)},e.prototype.onLevelUp=function(){s.default.instance.onLevelUp()},e.prototype.start=function(){a.default.instance.updateSlot()},e.prototype.tuyetvong=function(){for(var t=0;t<this.weaponList.length;t++)this.weaponList[t].onLevelUp();for(t=0;t<this.itemList.length;t++)this.itemList[t].onLevelUp()},e.prototype.onGameOver=function(){this.isGameOver=!0,this.equipedItem.forEach(function(t){t.isEquiped=!1}),this.equipedWeapon.forEach(function(t){t.isEquiped=!1}),this.scheduleOnce(function(){this.node.getComponent(cc.AudioSource).pause(),s.default.instance.onGameOver(),"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.gameOverSound,!1,1)},3)},e.prototype.update=function(t){"true"==c.default.getLocal("Sound")?this.node.getComponent(cc.AudioSource).resume():this.node.getComponent(cc.AudioSource).pause(),c.default.isPause||(this.timer+=t)},r([h(cc.AudioClip)],e.prototype,"gameOverSound",void 0),o=r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./SlotController":"SlotController","./UIController":"UIController","./Utils":"Utils"}],GrowthPill:[function(t,e,o){"use strict";cc._RF.push(e,"98842CKG2xN2YADg0szZ0rz","GrowthPill");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("./Item"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sizeIncreaseRate=10,e.pickUpRangeIncreaseRate=30,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.description="Increases attack size of weapons by 5%. Also increase Pick Up Range by 30%.",this.itemOnLoad()},e.prototype.loadStats=function(){this.overallStats.statList[4]+=this.sizeIncreaseRate,this.overallStats.statList[7]+=this.pickUpRangeIncreaseRate,this.overallStats.onStatsChange()},e.prototype.updateStats=function(t,e){this.sizeIncreaseRate+=t,this.pickUpRangeIncreaseRate+=e,this.overallStats.statList[4]+=t,this.overallStats.statList[7]+=e,this.overallStats.onStatsChange()},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increases attack size of weapons by 10%. Also increase Pick Up Range by 35%.",this.isEquiped=!0,a.default.instance.addEquipedItem(this),this.loadStats();break;case 2:this.description="Increases attack size of weapons by 15%. Also increase Pick Up Range by 40%.",this.updateStats(5,5);break;case 3:this.description="Increases attack size of weapons by 20%. Also increase Pick Up Range by 45%.",this.updateStats(5,5);break;case 4:this.description="Increases attack size of weapons by 25%. Also increase Pick Up Range by 50%.",this.updateStats(5,5);break;case 5:this.updateStats(5,5)}},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),s.default.isPause||this.isEquiped},r([h(cc.Float)],e.prototype,"sizeIncreaseRate",void 0),r([h(cc.Float)],e.prototype,"pickUpRangeIncreaseRate",void 0),o=r([p],e)}(c.default);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","./Item":"Item"}],HastePotion:[function(t,e,o){"use strict";cc._RF.push(e,"e86behE45tB+ZFEjjLVrX8A","HastePotion");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("./Item"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasteRate=5,e.speedRate=30,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.itemOnLoad(),o.instance=this,this.description="Increase Haste by 5% and SPD by 30%."},e.prototype.loadStats=function(){this.overallStats.increaseHasteRate(this.hasteRate),this.overallStats.increaseSpeedRate(this.speedRate)},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase Haste by 10% and SPD by 35%.",this.isEquiped=!0,this.loadStats(),a.default.instance.addEquipedItem(this);break;case 2:this.description="Increase Haste by 15% and SPD by 40%.",this.updateStats(5,5);break;case 3:this.description="Increase Haste by 20% and SPD by 45%.",this.updateStats(5,5);break;case 4:this.description="Increase Haste by 25% and SPD by 50%.",this.updateStats(5,5);break;case 5:this.updateStats(5,5)}},e.prototype.updateStats=function(t,e){this.overallStats.increaseHasteRate(t),this.overallStats.increaseSpeedRate(e)},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),s.default.isPause||this.isEquiped},r([h(cc.Float)],e.prototype,"hasteRate",void 0),r([h(cc.Float)],e.prototype,"speedRate",void 0),o=r([p],e)}(c.default);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","./Item":"Item"}],HealthAndShield:[function(t,e,o){"use strict";cc._RF.push(e,"1789cmurvRDqren9TBbR0oc","HealthAndShield");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpBar=null,e.shieldBar=null,e.hpBarUI=null,e.shieldBarUI=null,e.HpLabel=null,e.timer=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){},e.prototype.setStateHP=function(t,e){this.timer=3;var o=t;o/=e;var n=Math.ceil(t)+" / "+Math.ceil(e);o<0&&(o=0),this.hpBar.scaleX=o,this.hpBarUI.scaleX=o,this.HpLabel.string=n},e.prototype.setStateShield=function(t,e){this.timer=3;var o=t;(o/=e)<0&&(o=0),this.shieldBar.scaleX=o,this.shieldBarUI.scaleX=o},e.prototype.setStateOnLoad=function(t,e,o,n){var i=t;i/=e;var r=Math.ceil(t)+" / "+Math.ceil(e);i<0&&(i=0),this.hpBar.scaleX=i,this.hpBarUI.scaleX=i,this.HpLabel.string=r;var a=o;(a/=n)<0&&(a=0),this.shieldBar.scaleX=a,this.shieldBarUI.scaleX=a},e.prototype.update=function(t){this.timer-=t,this.timer<=0?this.hpBar.parent.opacity=0:this.hpBar.parent.opacity=255},r([c(cc.Node)],e.prototype,"hpBar",void 0),r([c(cc.Node)],e.prototype,"shieldBar",void 0),r([c(cc.Node)],e.prototype,"hpBarUI",void 0),r([c(cc.Node)],e.prototype,"shieldBarUI",void 0),r([c(cc.Label)],e.prototype,"HpLabel",void 0),o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Item:[function(t,e,o){"use strict";cc._RF.push(e,"75857hubXJPr5RQkanJ9FBc","Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Player/OverallStats"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.maxLevel=5,e.isEquiped=!1,e.isLockLevel=!1,e.description=null,e.displayIcon=null,e.dt=0,e}return i(e,t),e.prototype.onLevelMax=function(){this.level>=this.maxLevel&&(this.isLockLevel=!0)},e.prototype.itemOnLoad=function(){this.overallStats=s.default.instance,a.default.instance.addItem(this),this.name=this.node.name},e.prototype.onLevelUp=function(){this.isLockLevel||(this.level+=1,this.onLevelMax(),console.log(this.level))},e.prototype.start=function(){},e.prototype.update=function(){},r([p(cc.Float)],e.prototype,"maxLevel",void 0),r([p(cc.SpriteFrame)],e.prototype,"displayIcon",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Controller/GameController":"GameController","../Player/OverallStats":"OverallStats"}],KnightyMilk:[function(t,e,o){"use strict";cc._RF.push(e,"aa112anKcxAa4uQvZAEV8vv","KnightyMilk");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Item"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sizeIncreaseRate=10,e.pickUpRangeIncreaseRate=30,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.description="Increases attack size of weapons by 5%. Also increase Pick Up Range by 30%.",this.itemOnLoad(),this.itemOnLoad()},e.prototype.start=function(){},r([l(cc.Float)],e.prototype,"sizeIncreaseRate",void 0),r([l(cc.Float)],e.prototype,"pickUpRangeIncreaseRate",void 0),o=r([c],e)}(a.default);o.default=p,cc._RF.pop()},{"./Item":"Item"}],Level:[function(t,e,o){"use strict";cc._RF.push(e,"9f6acBY9sFIl74hB06mNTGQ","Level");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/UIController"),c=t("../Controller/Utils"),l=t("../Player/OverallStats"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=1,e.experience=0,e.expRequired=0,e.levelUpSound=null,e}var o;return i(e,t),o=e,e.prototype.addExperience=function(t){t+=t*l.default.instance.getBonusExpRate()/100,this.experience+=t},e.prototype.calculateNextLevel=function(){var t=this.level,e=t+1,o=Math.pow(4*e,2.1),n=Math.pow(4*t,2.1),i=Math.round(o),r=Math.round(n);this.expRequired=i-r},e.prototype.checkLevelUp=function(){if(this.experience>=this.expRequired){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.levelUpSound,!1,1);var t=this.experience-this.expRequired;this.level+=1,this.expRequired=1.2*this.expRequired,this.experience=t,this.calculateNextLevel(),a.default.instance.onLevelUp()}var e="LEVEL "+this.level;s.default.instance.updateExp(e,this.expRequired,this.experience)},e.prototype.onLoad=function(){o.instance=this,this.calculateNextLevel()},e.prototype.start=function(){},e.prototype.update=function(){c.default.isPause||this.checkLevelUp()},r([u(cc.Integer)],e.prototype,"level",void 0),r([u(cc.Float)],e.prototype,"experience",void 0),r([u(cc.AudioClip)],e.prototype,"levelUpSound",void 0),o=r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/UIController":"UIController","../Controller/Utils":"Utils","../Player/OverallStats":"OverallStats"}],Magnet:[function(t,e,o){"use strict";cc._RF.push(e,"f76c04uEK9BHq4nUwnmWWvw","Magnet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=t("../Manager/ObjectPooling"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getExpSound=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.zIndex=10002,s.default.instance.addToMagnetList(this.node)},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){0==t.tag&&("true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.getExpSound,!1,1),this.node.destroy(),s.default.instance.onMagnetPickup())},e.prototype.update=function(){},r([p(cc.AudioClip)],e.prototype,"getExpSound",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Controller/Utils":"Utils","../Manager/ObjectPooling":"ObjectPooling"}],Melee:[function(t,e,o){"use strict";cc._RF.push(e,"eb6baJQKUhCko4rHk90SUfS","Melee");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Enemy/EnemyController"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=20,e.weaponScaleX=1,e.collider=null,e.weaponScaleY=1,e}var o;return i(e,t),o=e,e.prototype.onCollisionEnter=function(t){1==t.tag&&t.node.getComponent(a.default).takeDamage(this.damage)},e.prototype.set=function(t,e,o){this.damage=t,this.damagePercentage=e,this.weaponScalePercentage=o,this.updateStats()},e.prototype.updateStats=function(){this.damage=this.damagePercentage/100*this.baseDamange+this.baseDamange,this.weaponScaleX=this.weaponScalePercentage/100*this.baseScale+this.baseScale,this.weaponScaleY=Math.abs(this.weaponScalePercentage/100*this.baseScale)+Math.abs(this.baseScale),this.node.scaleX=this.weaponScaleX,this.node.scaleY=this.weaponScaleY},e.prototype.onLoad=function(){o.instance=this,this.node.zIndex=2,this.collider=this.node.getComponent(cc.BoxCollider),this.baseDamange=this.damage,this.baseScale=this.weaponScaleX,this.damagePercentage=0,this.weaponScalePercentage=0},e.prototype.start=function(){},r([l(cc.Float)],e.prototype,"damage",void 0),r([l(cc.Float)],e.prototype,"weaponScaleX",void 0),r([l(cc.Float)],e.prototype,"weaponScaleY",void 0),o=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Enemy/EnemyController":"EnemyController"}],MenuController:[function(t,e,o){"use strict";cc._RF.push(e,"4fdb8FA7KlGu4Lj3S+YX40a","MenuController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Utils"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataPlayer=null,e.character=null,e.characterList=Array(),e.displayName=null,e.weaponIconList=Array(),e.hpAmount=null,e.atkAmount=null,e.spdAmount=null,e.crtAmount=null,e.weaponIcon=null,e.weaponName=null,e.description=null,e.backgroundMusic=null,e.charSelectSound=null,e.buttonSound=null,e.currentIndex=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){a.default.setLocal("Sound",!0),"true"==a.default.getLocal("Sound")?this.node.getComponent(cc.AudioSource).resume():this.node.getComponent(cc.AudioSource).pause(),o.instance=this,null==a.default.getLocal("Sound")&&a.default.setLocal("Sound",!0),this.characters=this.dataPlayer.json.character,cc.director.preloadScene("Gamescene"),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.loadData(this.currentIndex)},e.prototype.onPlayButtonClick=function(){"true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),cc.director.loadScene("Gamescene")},e.prototype.onNextCharacterClick=function(){"true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.charSelectSound,!1,1),this.currentIndex++;var t=Math.abs(this.currentIndex)%this.characters.length;this.loadData(Math.abs(t))},e.prototype.onPreCharacterClick=function(){"true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.charSelectSound,!1,1),this.currentIndex--;var t=Math.abs(this.currentIndex)%this.characters.length;this.loadData(Math.abs(t))},e.prototype.loadData=function(t){var e=this.characters[t];a.default.setCharacter(e.name),null==a.default.getLocal(e.name+"LV")&&a.default.setLocal(e.name+"LV",1),this.level=a.default.getLocal(e.name+"LV"),a.default.setCharacterLevel(this.level),this.character.removeAllChildren(),this.character.addChild(cc.instantiate(this.characterList[t])),this.displayName.string=e.name,this.hpAmount.string=e.stats[this.level-1].health,this.atkAmount.string="1."+e.stats[this.level-1].atk,this.spdAmount.string=e.stats[this.level-1].speed,this.crtAmount.string=e.stats[this.level-1].crit+"%",this.weaponIcon.spriteFrame=this.weaponIconList[t],this.weaponName.string=e.weapon,this.description.string=e.weaponDes},e.prototype.start=function(){},e.prototype.update=function(){"true"==a.default.getLocal("Sound")?this.node.getComponent(cc.AudioSource).resume():this.node.getComponent(cc.AudioSource).pause()},r([l(cc.JsonAsset)],e.prototype,"dataPlayer",void 0),r([l(cc.Node)],e.prototype,"character",void 0),r([l(Array(cc.Prefab))],e.prototype,"characterList",void 0),r([l(cc.Label)],e.prototype,"displayName",void 0),r([l(Array(cc.SpriteFrame))],e.prototype,"weaponIconList",void 0),r([l(cc.Label)],e.prototype,"hpAmount",void 0),r([l(cc.Label)],e.prototype,"atkAmount",void 0),r([l(cc.Label)],e.prototype,"spdAmount",void 0),r([l(cc.Label)],e.prototype,"crtAmount",void 0),r([l(cc.Sprite)],e.prototype,"weaponIcon",void 0),r([l(cc.Label)],e.prototype,"weaponName",void 0),r([l(cc.RichText)],e.prototype,"description",void 0),r([l(cc.AudioClip)],e.prototype,"backgroundMusic",void 0),r([l(cc.AudioClip)],e.prototype,"charSelectSound",void 0),r([l(cc.AudioClip)],e.prototype,"buttonSound",void 0),o=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./Utils":"Utils"}],MightyStone:[function(t,e,o){"use strict";cc._RF.push(e,"6e485nxwipCSoi4wBDgh39e","MightyStone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("./Item"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damageRate=10,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.itemOnLoad(),this.description="Gain 10% damage."},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Gain 15% damage.",this.isEquiped=!0,this.loadStats(),a.default.instance.addEquipedItem(this);break;case 2:this.description="Gain 20% damage.",this.updateStats(5);break;case 3:this.description="Gain 25% damage.",this.updateStats(5);break;case 4:this.description="Gain 30% damage.",this.updateStats(5);break;case 5:this.updateStats(5)}},e.prototype.loadStats=function(){this.overallStats.increaseAttackRate(this.damageRate)},e.prototype.updateStats=function(t){this.overallStats.increaseAttackRate(t)},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),s.default.isPause||this.isEquiped},r([h(cc.Float)],e.prototype,"damageRate",void 0),o=r([p],e)}(c.default);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","./Item":"Item"}],MollyThrower:[function(t,e,o){"use strict";cc._RF.push(e,"c49acuxz2lHy6ekcEsihHgg","MollyThrower");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ProjectilePooling"),l=t("./ThrowableProjectile"),p=t("./Weapon"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.molly=null,e.player=null,e.parent=null,e.throwSound=null,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.weaponOnLoad(),this.durationPercentage=0,this.timer=0,this.description="Throw a fire ball";for(var t=0;t<10;++t){var e=cc.instantiate(this.molly);e.parent=this.node.parent.parent,c.default.instance.mollyPool.put(e)}},e.prototype.throwMolly=function(){if(this.timer<0){if(this.timer=this.attackSpeed,"true"==s.default.getLocal("Sound")&&cc.audioEngine.play(this.throwSound,!1,1),this.level<3)return void this.spawnMolly(cc.v3(s.default.random(this.player.x-500,this.player.x+500),s.default.random(this.player.y-500,this.player.y+500)));if(this.level>=7){for(var t=0;t<3;t++)this.spawnMolly(cc.v3(s.default.random(this.player.x-500,this.player.x+500),s.default.random(this.player.y-500,this.player.y+500)));return}if(this.level>=3){for(t=0;t<2;t++)this.spawnMolly(cc.v3(s.default.random(this.player.x-500,this.player.x+500),s.default.random(this.player.parent.y-500,this.player.parent.y+500)));return}}},e.prototype.spawnMolly=function(t){var e=null;(e=c.default.instance.mollyPool.size()>0?c.default.instance.mollyPool.get():cc.instantiate(this.molly)).opacity=0,cc.tween(e).to(.05,{opacity:255}).start(),e.parent=this.parent,e.getComponent(l.default).set(this.resultDamagePercentage,this.baseDamage,this.resultWeaponScalePercentage,this.durationPercentage,t,this.player.position)},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase damage by 30%",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Add one more fire ball",this.updateStats(30,0,0,0,0);break;case 3:this.description="Reduce time between attacks by 20%";break;case 4:this.description="Increase damage by 30%",this.updateStats(0,0,20,0,0);break;case 5:this.description="Increase radius by 30%, duration by 20%",this.updateStats(30,0,0,0,0);break;case 6:this.description="Add one more fire ball, increase radius by 30%",this.updateStats(0,0,0,30,20);break;case 7:this.updateStats(0,0,0,30,0)}},e.prototype.updateStats=function(t,e,o,n,i){this.damagePercentage+=t,this.baseDamage+=e,this.attackSpeedPercentage+=o,this.weaponScalePercentage+=n,this.durationPercentage+=i,this.onStatChange()},e.prototype.start=function(){},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&(this.timer-=t,this.throwMolly())},r([d(cc.Prefab)],e.prototype,"molly",void 0),r([d(cc.Node)],e.prototype,"player",void 0),r([d(cc.Node)],e.prototype,"parent",void 0),r([d(cc.AudioClip)],e.prototype,"throwSound",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ProjectilePooling":"ProjectilePooling","./ThrowableProjectile":"ThrowableProjectile","./Weapon":"Weapon"}],Movement:[function(t,e,o){"use strict";cc._RF.push(e,"cd184emMadB7ZqGAUJcL39Q","Movement");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Player/PlayerController"),s=t("./GameController"),c=t("./Utils"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.directionArrow=null,e.directionAngle=0,e.isFlip=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.moveVec=cc.Vec2.ZERO,this.directionVector=cc.v2(100,0),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this,!0)},e.prototype.onTouchStart=function(t){this.touchAnchor=t.touch.getLocation()},e.prototype.onTouchMove=function(t){c.default.isPause||(a.default.instance.isMoving=!0,this.moveVec=t.touch.getLocation(),this.moveVec.x-=this.touchAnchor.x,this.moveVec.y-=this.touchAnchor.y,this.directionVector=this.moveVec.normalize())},e.prototype.onTouchEnd=function(){a.default.instance.isMoving=!1,this.moveVec=cc.Vec2.ZERO},e.prototype.onTouchCancel=function(){a.default.instance.isMoving=!1,this.moveVec=cc.Vec2.ZERO},e.prototype.start=function(){},e.prototype.movePlayer=function(t){this.moveVec.x<0&&!this.isFlip&&(cc.tween(this.player.getChildByName("Player")).flipX().start(),this.isFlip=!0),this.moveVec.x>0&&this.isFlip&&(cc.tween(this.player.getChildByName("Player")).flipX().start(),this.isFlip=!1),this.player.x+=this.moveVec.normalize().x*a.default.instance.speed*175*t,this.player.y+=this.moveVec.normalize().y*a.default.instance.speed*175*t,this.node.position=this.player.position},e.prototype.moveDirectionArrow=function(){this.directionAngle=Math.atan2(this.directionVector.y,this.directionVector.x)*(180/Math.PI),this.directionArrow.angle=this.directionAngle,this.directionArrow.position=cc.v3(100*this.directionVector.normalize().x,100*this.directionVector.normalize().y)},e.prototype.update=function(t){c.default.isPause||s.default.instance.isGameOver||(this.movePlayer(t),this.moveDirectionArrow())},r([h(cc.Node)],e.prototype,"player",void 0),r([h(cc.Node)],e.prototype,"directionArrow",void 0),o=r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Player/PlayerController":"PlayerController","./GameController":"GameController","./Utils":"Utils"}],ObjectPooling:[function(t,e,o){"use strict";cc._RF.push(e,"eb9e3iCZnBH3INAnHdGRZQw","ObjectPooling");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Other Object/Coin"),s=t("../Other Object/Experience"),c=t("../Other Object/Pickup"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expPrefab=new Array,e.coinPrefab=null,e.foodPrefab=null,e.rainbowExpPrefab=null,e.gameplay=null,e.expPool=new Array,e.coinPool=new cc.NodePool,e.foodPool=new cc.NodePool,e.rainbowExpPool=new cc.NodePool,e.expList=new Array,e.coinList=new Array,e.magnetList=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.addToArrayPool();for(var t=0;t<this.expPool.length;t++)for(var e=0;e<500;++e){var n=cc.instantiate(this.expPrefab[t]);this.expPool[t].put(n)}},e.prototype.start=function(){},e.prototype.addToArrayPool=function(){for(var t=0;t<this.expPrefab.length;t++){var e=new cc.NodePool;this.expPool.push(e)}},e.prototype.generateExp=function(t,e){var o=null,n=null;e>0&&(n=1),e>10&&(n=2),e>19&&(n=3),e>49&&(n=4),e>99&&(n=5),e>200&&(n=6),(o=this.expPool[n-1].size()>0?this.expPool[n-1].get():cc.instantiate(this.expPrefab[n-1])).getComponent(s.default).set(e),o.getComponent(c.default).set(),this.addToExpList(o),o.parent=this.gameplay,o.position=t.position},e.prototype.generateCoin=function(t,e){var o=null;(o=this.coinPool.size()>0?this.coinPool.get():cc.instantiate(this.coinPrefab)).getComponent(a.default).set(e),o.getComponent(c.default).set(),this.addToCoinList(o),o.parent=this.gameplay,o.position=t.position},e.prototype.generateFood=function(t){var e=null;(e=this.foodPool.size()>0?this.foodPool.get():cc.instantiate(this.foodPrefab)).getComponent(c.default).set(),e.parent=this.gameplay,e.position=t.position},e.prototype.generateMagnet=function(t){var e=null;this.addToMagnetList(e),(e=cc.instantiate(this.rainbowExpPrefab)).getComponent(c.default).set(),e.parent=this.gameplay,e.position=t.position},e.prototype.addToExpList=function(t){this.expList.push(t)},e.prototype.addToCoinList=function(t){this.coinList.push(t)},e.prototype.addToMagnetList=function(t){this.magnetList.push(t)},e.prototype.putBackToPool=function(t){if(t)switch(t.name){case"Exp1":this.expPool[0].put(t);break;case"Exp2":this.expPool[1].put(t);break;case"Exp3":this.expPool[2].put(t);break;case"Exp4":this.expPool[3].put(t);break;case"Exp5":this.expPool[4].put(t);break;case"Exp6":this.expPool[5].put(t);break;case"Coin":this.coinPool.put(t);break;case"Food":this.foodPool.put(t)}},e.prototype.removeFromList=function(){this.expList=this.expList.filter(function(t){return!0!==t.getComponent(s.default).isLooted}),this.coinList=this.coinList.filter(function(t){return!0!==t.getComponent(a.default).isLooted})},e.prototype.onMagnetPickup=function(){this.expList.forEach(function(t){t.getComponent(c.default).isPicking=!0}),this.coinList.forEach(function(t){t.getComponent(c.default).isPicking=!0}),this.magnetList.forEach(function(t){null!=t&&t.active&&(t.getComponent(c.default).isPicking=!0)})},e.prototype.update=function(){this.removeFromList()},r([h(Array(cc.Prefab))],e.prototype,"expPrefab",void 0),r([h(cc.Prefab)],e.prototype,"coinPrefab",void 0),r([h(cc.Prefab)],e.prototype,"foodPrefab",void 0),r([h(cc.Prefab)],e.prototype,"rainbowExpPrefab",void 0),r([h(cc.Node)],e.prototype,"gameplay",void 0),o=r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Other Object/Coin":"Coin","../Other Object/Experience":"Experience","../Other Object/Pickup":"Pickup"}],OptionGenerator:[function(t,e,o){"use strict";cc._RF.push(e,"d90fcTBpmpOyIwBqVo41EuQ","OptionGenerator");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Player/OverallStats"),s=t("../Player/PlayerController"),c=t("./GameController"),l=t("./SlotController"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t,e,o,n){this.name=t,this.increaseAmount=e,this.description=o,this.displayIcon=n},f=function(t,e){this.upgrade=t,this.type=e},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upgrade=new Array,e.otherIconList=new Array,e.otherList=new Array,e.options=[],e.list=new Array,e.itemList=new Array,e.weaponList=new Array,e.equipedWeapon=new Array,e.equipedItem=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.otherList.push(new d("Max HP Up",10,"Increase max HP by 10%",this.otherIconList[0])),this.otherList.push(new d("ATK Up",8,"Increase ATK by 8%",this.otherIconList[1])),this.otherList.push(new d("SPD Up",12,"Increase SPD by 12%",this.otherIconList[2])),this.otherList.push(new d("Crit Up",3,"Increase critical chance by 3%",this.otherIconList[3])),this.otherList.push(new d("Pick Up Range",20,"Increase pick up range by 20%",this.otherIconList[4])),this.otherList.push(new d("Haste Up",5,"Increase haste by 5%",this.otherIconList[5])),this.otherList.push(new d("Coin",250,"Gain 250 coins",this.otherIconList[6])),this.otherList.push(new d("Burger",20,"Heal 20% max HP",this.otherIconList[7])),this.list.push(this.itemList),this.list.push(this.weaponList),this.list.push(this.equipedItem),this.list.push(this.equipedWeapon)},e.prototype.onOptionSelect=function(t){switch("weapon"!=this.options[t].type&&"item"!=this.options[t].type||(this.options[t].upgrade.level+=1),this.options[t].type){case"burger":s.default.instance.healByPercentage(this.options[t].upgrade.increaseAmount);break;case"coin":c.default.instance.gainCoin(this.options[t].upgrade.increaseAmount);break;case"statUp":var e=this.options[t].upgrade.name,o=this.options[t].upgrade.increaseAmount;"Max HP Up"==e&&a.default.instance.increaseMaxHPRate(o),"ATK Up"==e&&a.default.instance.increaseAttackRate(o),"SPD Up"==e&&a.default.instance.increaseSpeedRate(o),"Crit Up"==e&&a.default.instance.increaseCritChance(o),"Pick Up Range"==e&&a.default.instance.increasePickupRangeRate(o),"Haste Up"==e&&a.default.instance.increaseHasteRate(o)}l.default.instance.updateSlot(),c.default.instance.tuyetvong()},e.prototype.optionSelection=function(t){var e=Math.floor(Math.random()*t.length),o=t[e];switch(this.currentType){case"item":this.itemList.splice(e,1);break;case"weapon":this.weaponList.splice(e,1);break;case"equipedWeapon":this.equipedWeapon.splice(e,1);break;case"equipedItem":this.equipedItem.splice(e,1)}return o},e.prototype.generateOptionList=function(t){var e=[],o=Math.random();return"weapon"===t?c.default.instance.equipedWeapon.length>=6?(e=this.equipedWeapon,this.currentType="equipedWeapon"):o<.5?(e=this.equipedWeapon,this.currentType="equipedWeapon",0==e.length&&(e=this.weaponList,this.currentType="weapon")):(e=this.weaponList,this.currentType="weapon",0==e.length&&(e=this.equipedWeapon,this.currentType="equipedWeapon")):"item"===t?c.default.instance.equipedItem.length>=6?(e=this.equipedItem,this.currentType="equipedItem"):o<.5?(e=this.equipedItem,this.currentType="equipedItem",0==e.length&&(e=this.itemList,this.currentType="item")):(e=this.itemList,this.currentType="item",0==e.length&&(e=this.equipedItem,this.currentType="equipedItem")):"statUp"===t?e=this.otherList.filter(function(t){return"Burger"!=t.name&&"Coin"!=t.name}):"burger"===t?e=this.otherList.filter(function(t){return"Burger"==t.name}):"coin"===t&&(e=this.otherList.filter(function(t){return"Coin"==t.name})),e},e.prototype.generateOption1=function(){var t,e=null,o=Math.random();o<.475?(e="weapon",0==(t=this.generateOptionList(e)).length&&(e="item",t=this.generateOptionList(e)),0==t.length&&(e="statUp",t=this.generateOptionList(e))):o<.95?(e="item",0==(t=this.generateOptionList(e)).length&&(e="statUp",t=this.generateOptionList(e))):(e="statUp",t=this.generateOptionList(e)),this.options.push(new f(this.optionSelection(t),e));var n,i=null,r=Math.random();r<.475?(i="weapon",0==(n=this.generateOptionList(i)).length&&(i="item",n=this.generateOptionList(i)),0==n.length&&(i="burger",n=this.generateOptionList(i))):r<.95?(i="item",0==(n=this.generateOptionList(i)).length&&(i="burger",n=this.generateOptionList(i))):(i="burger",n=this.generateOptionList(i)),this.options.push(new f(this.optionSelection(n),i));for(var a=null,s=[],c=Math.random(),l=0;l<5&&(c<.5?(a="weapon",s=this.generateOptionList(a)):c<1&&(a="item",s=this.generateOptionList(a)),!(s.length>0));l++);0==s.length&&(a="coin",s=this.generateOptionList(a)),this.options.push(new f(this.optionSelection(s),a))},e.prototype.generateOption2=function(){var t,e=null,o=Math.random();o<.475?(e="weapon",0==(t=this.generateOptionList(e)).length&&(e="item",t=this.generateOptionList(e)),0==t.length&&(e="burger",t=this.generateOptionList(e))):o<.95?(e="item",0==(t=this.generateOptionList(e)).length&&(e="burger",t=this.generateOptionList(e))):(e="burger",t=this.generateOptionList(e)),this.options.push(new f(this.optionSelection(t),e))},e.prototype.generateOption3=function(){for(var t=null,e=[],o=Math.random(),n=0;n<5&&(o<.5?(t="weapon",e=this.generateOptionList(t)):o<1&&(t="item",e=this.generateOptionList(t)),!(e.length>0));n++);0==e.length&&(t="coin",e=this.generateOptionList(t)),this.options.push(new f(this.optionSelection(e),t))},e.prototype.generateOptions=function(){var t=this;this.weaponList.length=0,this.itemList.length=0,this.equipedItem.length=0,this.equipedWeapon.length=0,c.default.instance.weaponList.forEach(function(e){0!=e.isEquiped||e.isLockLevel||t.weaponList.push(e)}),c.default.instance.itemList.forEach(function(e){0!=e.isEquiped||e.isLockLevel||t.itemList.push(e)}),c.default.instance.equipedItem.forEach(function(e){1!=e.isEquiped||e.isLockLevel||t.equipedItem.push(e)}),c.default.instance.equipedWeapon.forEach(function(e){1!=e.isEquiped||e.isLockLevel||t.equipedWeapon.push(e)}),this.generateOption1()},e.prototype.displayOptions=function(){this.options.length=0,this.generateOptions();for(var t=0;t<this.upgrade.length;t++)null!=this.options[t]&&("weapon"!=this.options[t].type&&"item"!=this.options[t].type||(this.upgrade[t].getChildByName("Upgrade Name").getComponent(cc.Label).string=this.options[t].upgrade.name,this.options[t].upgrade.level>0&&(this.upgrade[t].getChildByName("Upgrade Name").getComponent(cc.Label).string=this.options[t].upgrade.name+" LV "+(this.options[t].upgrade.level+1)),this.upgrade[t].getChildByName("New").active=!1,0==this.options[t].upgrade.isEquiped&&(this.upgrade[t].getChildByName("New").active=!0),this.upgrade[t].getChildByName("Description").getComponent(cc.RichText).string=this.options[t].upgrade.description,this.upgrade[t].getChildByName("Upgrade").getComponentInChildren(cc.Sprite).spriteFrame=this.options[t].upgrade.displayIcon),"statUp"!=this.options[t].type&&"coin"!=this.options[t].type&&"burger"!=this.options[t].type||(this.upgrade[t].getChildByName("Upgrade Name").getComponent(cc.Label).string=this.options[t].upgrade.name,this.upgrade[t].getChildByName("New").active=!1,this.upgrade[t].getChildByName("Description").getComponent(cc.RichText).string=this.options[t].upgrade.description,this.upgrade[t].getChildByName("Upgrade").getComponentInChildren(cc.Sprite).spriteFrame=this.options[t].upgrade.displayIcon))},e.prototype.start=function(){},e.prototype.update=function(){},r([u(Array(cc.Node))],e.prototype,"upgrade",void 0),r([u(Array(cc.SpriteFrame))],e.prototype,"otherIconList",void 0),o=r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Player/OverallStats":"OverallStats","../Player/PlayerController":"PlayerController","./GameController":"GameController","./SlotController":"SlotController"}],OptionTest:[function(t,e,o){"use strict";cc._RF.push(e,"ee20bnrl8lEEbZEsYexUIDB","OptionTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t,e){this.optionType=t,this.weight=e},p=function(){function t(){this.unpickedSkills=3,this.allSkillsFullyLeveled=!1,this.unpickedWeapons=5,this.unpickedItems=7,this.weaponEquipped=!0,this.itemEquipped=!0}return t.prototype.canOfferSkill=function(){return this.unpickedSkills>0&&!this.allSkillsFullyLeveled},t.prototype.canOfferWeapon=function(){return this.unpickedWeapons>0&&!this.weaponEquipped},t.prototype.canOfferItem=function(){return this.unpickedItems>0&&!this.itemEquipped},t}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sword=null,e}return i(e,t),e.prototype.selectRandomOption=function(t){for(var e=t.reduce(function(t,e){return t+e.weight},0),o=Math.floor(Math.random()*e),n=0,i=t;n<i.length;n++){var r=i[n];if((o-=r.weight)<0)return r}return t[t.length-1]},e.prototype.generateOptionList=function(t){var e=[];return"skill"===t?(e.push(new l("SkillOption1",1)),e.push(new l("SkillOption2",1)),e.push(new l("SkillOption3",1))):"weapon"===t?(e.push(new l("WeaponOption1",2)),e.push(new l("WeaponOption2",3)),e.push(new l("WeaponOption3",1))):"item"===t?(e.push(new l("ItemOption1",2)),e.push(new l("ItemOption2",2)),e.push(new l("ItemOption3",4))):"StatUp"===t&&e.push(new l("StatUpOption",1)),e},e.prototype.selectOptions=function(t){var e,o=[],n=Math.random();e=n<.35?"skill":n<.7?"weapon":n<.95?"item":"StatUp";var i,r=this.generateOptionList(e);t.canOfferSkill()||(r=r.filter(function(t){return"skill"!==t.optionType}),t.canOfferWeapon()||(r=r.filter(function(t){return"weapon"!==t.optionType}),t.canOfferItem()||(r=r.filter(function(t){return"item"!==t.optionType})))),o.push(this.selectRandomOption(r));var a=Math.random();i=a<.35?"skill":a<.7?"weapon":a<.95?"item":"StatUp";var s,c=this.generateOptionList(i);t.canOfferSkill()||(c=c.filter(function(t){return"skill"!==t.optionType}),t.canOfferWeapon()||(c=c.filter(function(t){return"weapon"!==t.optionType}),t.canOfferItem()||(c=c.filter(function(t){return"item"!==t.optionType})))),o.push(this.selectRandomOption(c)),s=Math.random()<.5?"weapon":"item";var p=this.generateOptionList(s);t.canOfferWeapon()||(p=p.filter(function(t){return"weapon"!==t.optionType}),t.canOfferItem()||(p=p.filter(function(t){return"item"!==t.optionType}),t.canOfferSkill()||(p=p.filter(function(t){return"skill"===t.optionType}))));for(var h,u=5;u>0;){if("skill"===(f=this.selectRandomOption(p)).optionType){o.push(f);break}u--}0===u&&o.push(new l("FoodOption",1)),h=Math.random()<.5?"weapon":"item";var d=this.generateOptionList(h);if(t.canOfferWeapon()||t.canOfferItem()){for(u=5;u>0;){var f;if("weapon"===(f=this.selectRandomOption(d)).optionType&&t.canOfferWeapon()||"item"===f.optionType&&t.canOfferItem()){o.push(f);break}u--}0===u&&o.push(new l("HoloCoinOption",1))}else o.push(new l("HoloCoinOption",1));return o},e.prototype.onLoad=function(){var t=new p;this.selectOptions(t).forEach(function(t){console.log(t.optionType,t.weight)})},e.prototype.update=function(){},r([c(cc.Node)],e.prototype,"sword",void 0),r([s],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],OrbitProjectile:[function(t,e,o){"use strict";cc._RF.push(e,"c7a1dmGKkBD14Hb0ld0GDsF","OrbitProjectile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=t("../Enemy/EnemyController"),c=t("../Manager/ProjectilePooling"),l=t("./Projectile"),p=t("./ShurikenThrower"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=2,e.baseDuration=e.duration,e.durationPercentage=0,e.currentTime=0,e.startRadius=150,e.currentRadius=150,e.maxRadius=150,e.angleDelta=0,e.isInPool=!0,e.pivot=null,e.interval=.005,e.time=e.interval,e.previous=9999,e.trailList=new Array,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){1==t.tag&&(t.node.getComponent(s.default).takeDamage(this.damage),p.default.instance.hitLimit-=1)},e.prototype.onLoad=function(){this.node.zIndex=1e4,this.baseDamange=this.damage,this.baseScale=this.weaponScale,this.damagePercentage=0,this.weaponScalePercentage=0,this.currentRadius=this.startRadius},e.prototype.updateStats=function(){this.damage=this.damagePercentage/100*this.baseDamange+this.baseDamange,this.weaponScale=this.weaponScalePercentage/100*this.baseScale+this.baseScale,this.duration=this.baseDuration+this.durationPercentage/100*this.baseDuration,this.node.scale=this.weaponScale},e.prototype.setStats=function(t,e,o,n,i,r){this.isInPool=!1,this.time=this.interval,this.angleDelta=r,this.currentRadius=this.startRadius,this.currentTime=0,this.baseDamange=e,this.damagePercentage=t,this.weaponScalePercentage=o,this.pivot=i,this.durationPercentage=n,this.lock=!1,this.updateStats()},e.prototype.putBackToPool=function(){this.currentTime>=this.duration&&(this.isInPool=!0,this.trailList.forEach(function(t){c.default.instance.putBackToPool(t)}),this.trailList.length=0,c.default.instance.putBackToPool(this.node))},e.prototype.forceToPutBack=function(){this.isInPool=!0,this.trailList.forEach(function(t){c.default.instance.putBackToPool(t)}),this.trailList.length=0,c.default.instance.putBackToPool(this.node)},e.prototype.orbitAround=function(t){this.addTrail(t),this.node.angle+=1500*t,this.angleDelta-=2.5*t,this.currentRadius>this.maxRadius&&(this.currentRadius=this.maxRadius),this.node.x=this.pivot.x+this.currentRadius*Math.cos(this.angleDelta),this.node.y=this.pivot.y+this.currentRadius*Math.sin(this.angleDelta)},e.prototype.addTrail=function(t){if(this.time>0)this.time-=t;else{this.time=this.interval;var e=null;null==(e=c.default.instance.trailPool.get())&&(e=new cc.Node("Trail")),this.trailList.push(e),e.parent=this.node.parent,e.scale=this.node.scale,e.opacity=200,e.angle=this.node.angle,e.zIndex=9999,e.position=cc.v3(this.node.x,this.node.y),null!=e.getComponent(cc.Sprite)?e.getComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame:e.addComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame,e.setContentSize(this.node.getContentSize()),cc.tween(e).to(.08,{opacity:0}).start()}},e.prototype.update=function(t){a.default.isPause||(this.currentTime+=t,this.orbitAround(t),this.putBackToPool())},r([d(cc.Float)],e.prototype,"duration",void 0),r([d(cc.Float)],e.prototype,"startRadius",void 0),r([d(cc.Float)],e.prototype,"maxRadius",void 0),r([d(cc.Float)],e.prototype,"angleDelta",void 0),r([u],e)}(l.default);o.default=f,cc._RF.pop()},{"../Controller/Utils":"Utils","../Enemy/EnemyController":"EnemyController","../Manager/ProjectilePooling":"ProjectilePooling","./Projectile":"Projectile","./ShurikenThrower":"ShurikenThrower"}],OverallStats:[function(t,e,o){"use strict";cc._RF.push(e,"b3e72yWqRJJTI7+/B39kZpf","OverallStats");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/UIController"),c=t("../Weapon/Weapon"),l=t("./PlayerController"),p=cc._decorator,h=p.ccclass,u=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameList=new Array,e.statList=new Array,e}var o;return i(e,t),o=e,e.prototype.loadStats=function(){for(var t=0;t<this.nameList.length;t++)this.statList[t]=0},e.prototype.loadFromCharacterData=function(){var t=l.default.instance.loadedData;this.increaseAttackRate(t.atk),this.increaseCritChance(t.crit)},e.prototype.pushToList=function(){this.nameList.push("Max HP Rate"),this.nameList.push("Attack Rate"),this.nameList.push("Speed Rate"),this.nameList.push("Haste Rate"),this.nameList.push("Weapon size Rate"),this.nameList.push("Critical Chance"),this.nameList.push("Critical Damage Rate"),this.nameList.push("Pickup Range Rate"),this.nameList.push("Resist Rate"),this.nameList.push("Bonus Healing Rate"),this.nameList.push("Bonus Exp Rate")},e.prototype.onStatsChange=function(){a.default.instance.isGameOver||(l.default.instance.onStatChange(),c.default.instance.onStatChange(),s.default.instance.updateStats())},e.prototype.increaseMaxHPRate=function(t){this.statList[0]+=t,this.onStatsChange()},e.prototype.increaseAttackRate=function(t){this.statList[1]+=t,this.onStatsChange()},e.prototype.increaseSpeedRate=function(t){this.statList[2]+=t,this.onStatsChange()},e.prototype.increaseHasteRate=function(t){this.statList[3]+=t,this.onStatsChange()},e.prototype.increaseWeaponSizeRate=function(t){this.statList[4]+=t,this.onStatsChange()},e.prototype.increaseCritChance=function(t){this.statList[5]+=t,this.onStatsChange()},e.prototype.increaseCritDamageRate=function(t){this.statList[6]+=t,this.onStatsChange()},e.prototype.increasePickupRangeRate=function(t){this.statList[7]+=t,this.onStatsChange()},e.prototype.increaseResistRate=function(t){this.statList[8]+=t,this.onStatsChange()},e.prototype.increaseBonusHealingRate=function(t){this.statList[9]+=t,this.onStatsChange()},e.prototype.increaseBonusExpRate=function(t){this.statList[10]+=t,this.onStatsChange()},e.prototype.getMaxHPRate=function(){return this.statList[0]},e.prototype.getAttackRate=function(){return this.statList[1]},e.prototype.getSpeedRate=function(){return this.statList[2]},e.prototype.getHasteRate=function(){return this.statList[3]},e.prototype.getWeaponSizeRate=function(){return this.statList[4]},e.prototype.getCritChance=function(){return this.statList[5]},e.prototype.getCritDamageRate=function(){return this.statList[6]},e.prototype.getPickupRangeRate=function(){return this.statList[7]},e.prototype.getResistRate=function(){return this.statList[8]},e.prototype.getBonusHealingRate=function(){return this.statList[9]},e.prototype.getBonusExpRate=function(){return this.statList[10]},e.prototype.onLoad=function(){o.instance=this,this.player=l.default.instance,this.pushToList(),this.loadStats()},e.prototype.start=function(){this.loadFromCharacterData()},e.prototype.update=function(){},o=r([h],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/UIController":"UIController","../Weapon/Weapon":"Weapon","./PlayerController":"PlayerController"}],Pickup:[function(t,e,o){"use strict";cc._RF.push(e,"ee6b6BKEbdNroF3wYKtt+5y","Pickup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPicking=!1,e.speed=100,e}return i(e,t),e.prototype.onCollisionEnter=function(t){7==t.tag&&(this.isPicking=!0)},e.prototype.onLoad=function(){},e.prototype.set=function(){this.isPicking=!1,this.speed=100},e.prototype.moveToPlayer=function(t){var e=this.node.parent.getChildByName("PlayerBase"),o=e.x-this.node.x,n=e.y-this.node.y,i=cc.v2(o,n).normalize();this.node.x+=i.x*this.speed*t,this.node.y+=i.y*this.speed*t,this.speed+=20},e.prototype.start=function(){},e.prototype.update=function(t){a.default.isPause||this.isPicking&&this.moveToPlayer(t)},r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../Controller/Utils":"Utils"}],PlayerController:[function(t,e,o){"use strict";cc._RF.push(e,"b67a81990VAnaW6wnj+XVVi","PlayerController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/UIController"),c=t("../Controller/Utils"),l=t("../Other Object/DeathHeart"),p=t("../Weapon/StartWeapon"),h=t("./HealthAndShield"),u=t("./OverallStats"),d=cc._decorator,f=d.ccclass,y=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataPlayer=null,e.deathHeart=null,e.speed=1,e.maxHp=100,e.maxShield=0,e.iFrameDuration=.3,e.pickupRange=100,e.resist=0,e.enableIframe=!1,e.isUnkilled=!1,e.characterPrefab=Array(),e.hurtSound=null,e.deadSound=null,e.healSound=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.overallStat=u.default.instance,this.basePR=this.pickupRange,this.baseResist=this.resist,this.loadCharacter(),this.node.parent.zIndex=1e4,this.isIFrame=!1,this.isMoving=!1,this.iFrametimer=0},e.prototype.loadCharacter=function(){for(var t=c.default.getCharacterLevel(),e=0;e<this.characterPrefab.length;e++)c.default.getCharacterByName()==this.characterPrefab[e].name&&(cc.instantiate(this.characterPrefab[e]).parent=this.node,s.default.instance.setPortrait(e),this.loadedData=this.dataPlayer.json.character[e].stats[t-1],this.startWeapon=this.dataPlayer.json.character[e].weapon,this.baseMaxHp=this.loadedData.health,this.maxHp=this.baseMaxHp,this.currentHp=this.maxHp,this.baseSpd=this.loadedData.speed);this.anim=this.getComponentInChildren(cc.Animation),this.animList=this.anim.getClips(),this.anim.play(this.animList[0]),this.currentShield=this.maxShield,h.default.instance.setStateOnLoad(this.currentHp,this.maxHp,this.currentShield,this.maxShield),this.onStatChange(),this.node.getComponent(cc.CircleCollider).radius=this.pickupRange},e.prototype.start=function(){this.node.parent.getChildByName("StartWeapon").getChildByName(this.startWeapon).getComponent(p.default).level++},e.prototype.takeDamage=function(t){if(!this.isIFrame&&!this.isUnkilled){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.hurtSound,!1,1),t-=t*this.resist/100;var e=this.currentShield-t;if(this.currentShield-=t,this.currentShield<0&&(this.currentShield=0),e<0&&(this.currentHp+=e,h.default.instance.setStateHP(this.currentHp,this.maxHp),a.default.instance.takeDamage()),this.enableIframe&&(this.isIFrame=!0,this.iFrametimer=this.iFrameDuration),h.default.instance.setStateShield(this.currentShield,this.maxShield),this.currentHp<=0){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.deadSound,!1,1),this.currentHp=0,h.default.instance.setStateHP(this.currentHp,this.maxHp);for(var o=-1;o<=1;o++)for(var n=-1;n<=1;n+=.25){var i=cc.instantiate(this.deathHeart);i.position=this.node.position,i.parent=this.node.parent,i.getComponent(l.default).vec2=cc.v2(o,n)}a.default.instance.onGameOver(),this.node.destroy()}}},e.prototype.onStatChange=function(){var t=this.maxHp;this.maxHp=this.baseMaxHp*this.overallStat.getMaxHPRate()/100+this.baseMaxHp,this.currentHp+=this.maxHp-t,this.resist=this.overallStat.getResistRate()+this.baseResist,this.resist>100&&(this.resist=100),this.pickupRange=this.basePR*this.overallStat.getPickupRangeRate()/100+this.basePR,this.node.getComponent(cc.CircleCollider).radius=this.pickupRange,this.speed=this.baseSpd*this.overallStat.getSpeedRate()/100+this.baseSpd,h.default.instance.setStateOnLoad(this.currentHp,this.maxHp,this.currentShield,this.maxShield)},e.prototype.gainMaxShield=function(t){this.maxShield+=t,this.currentShield+=t,h.default.instance.setStateOnLoad(this.currentHp,this.maxHp,this.currentShield,this.maxShield)},e.prototype.gainShield=function(t){this.currentShield+=t,this.currentShield>this.maxShield&&(this.currentShield=this.maxShield),h.default.instance.setStateOnLoad(this.currentHp,this.maxHp,this.currentShield,this.maxShield)},e.prototype.heal=function(t){this.currentHp<=0||this.currentHp!=this.maxHp&&(this.currentHp+=t+t/100*this.overallStat.getBonusHealingRate(),this.currentHp>this.maxHp&&(this.currentHp=this.maxHp),h.default.instance.setStateHP(Math.ceil(this.currentHp),this.maxHp),"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.healSound,!1,1))},e.prototype.regenHP=function(t){this.currentHp<=0||this.currentHp!=this.maxHp&&(this.currentHp+=t+t/100*this.overallStat.getBonusHealingRate(),this.currentHp>this.maxHp&&(this.currentHp=this.maxHp),h.default.instance.setStateOnLoad(Math.ceil(this.currentHp),this.maxHp,this.currentShield,this.maxShield))},e.prototype.healByPercentage=function(t){this.currentHp<=0||this.currentHp!=this.maxHp&&(this.currentHp+=this.maxHp/100*(t+t/100*this.overallStat.getBonusHealingRate()),this.currentHp>this.maxHp&&(this.currentHp=this.maxHp),h.default.instance.setStateHP(Math.ceil(this.currentHp),this.maxHp),"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.healSound,!1,1))},e.prototype.runAnimation=function(){this.anim.getAnimationState(this.animList[1].name).isPlaying||1!=this.isMoving||this.anim.play(this.animList[1].name),0!=this.isMoving||this.anim.getAnimationState(this.animList[0].name).isPlaying||this.anim.play(this.animList[0].name)},e.prototype.update=function(t){c.default.isPause?this.anim.pause():(this.anim.resume(),this.deltaTime=t,this.iFrametimer-=t,this.iFrametimer<0&&(this.enableIframe=!1,this.isIFrame=!1),this.runAnimation())},r([y(cc.JsonAsset)],e.prototype,"dataPlayer",void 0),r([y(cc.Prefab)],e.prototype,"deathHeart",void 0),r([y(cc.Float)],e.prototype,"iFrameDuration",void 0),r([y(cc.Boolean)],e.prototype,"enableIframe",void 0),r([y(cc.Boolean)],e.prototype,"isUnkilled",void 0),r([y(Array(cc.Prefab))],e.prototype,"characterPrefab",void 0),r([y(cc.AudioClip)],e.prototype,"hurtSound",void 0),r([y(cc.AudioClip)],e.prototype,"deadSound",void 0),r([y(cc.AudioClip)],e.prototype,"healSound",void 0),o=r([f],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/UIController":"UIController","../Controller/Utils":"Utils","../Other Object/DeathHeart":"DeathHeart","../Weapon/StartWeapon":"StartWeapon","./HealthAndShield":"HealthAndShield","./OverallStats":"OverallStats"}],ProjectilePooling:[function(t,e,o){"use strict";cc._RF.push(e,"99f7bFx1jZMiri/1AV9RwiL","ProjectilePooling");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrowPool=new cc.NodePool,e.mollyPool=new cc.NodePool,e.axePool=new cc.NodePool,e.shurikenPool=new cc.NodePool,e.trailPool=new cc.NodePool,e.projectilePool=new Array,e}var o;return i(e,t),o=e,e.prototype.putBackToPool=function(t){if(t)switch(t.name){case"Arrow":this.arrowPool.put(t);break;case"Molly":this.mollyPool.put(t);break;case"Axe":this.axePool.put(t);break;case"Shuriken":this.shurikenPool.put(t);break;case"Trail":this.trailPool.put(t)}},e.prototype.onLoad=function(){o.instance=this;for(var t=0;t<1e3;++t){var e=new cc.Node("Trail");this.trailPool.put(e)}},e.prototype.start=function(){},e.prototype.update=function(){},o=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],Projectile:[function(t,e,o){"use strict";cc._RF.push(e,"937f2AD/1NMJKL35/8weEe2","Projectile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Movement"),s=t("../Controller/Utils"),c=t("../Enemy/EnemyController"),l=t("../Manager/ProjectilePooling"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=20,e.weaponScale=1,e.travelSpeed=400,e.hitLimit=1,e.isShootingAtTarget=!0,e.lock=!1,e.target=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){1==t.tag&&(t.node.getComponent(c.default).takeDamage(this.damage),this.hitLimit-=1)},e.prototype.putBackToPool=function(){var t=this.node.parent.getChildByName("PlayerBase"),e=(t.x-this.node.x)*(t.x-this.node.x),o=(t.y-this.node.y)*(t.y-this.node.y),n=Math.sqrt(e+o);this.hitLimit<=0&&l.default.instance.putBackToPool(this.node),n>1200&&l.default.instance.putBackToPool(this.node)},e.prototype.moveToTarget=function(t,e){if(this.isShootingAtTarget&&(this.target=t),null!=t||this.lock||(this.directionVector=a.default.instance.directionVector.normalize(),this.directionVector=cc.v2(this.directionVector.x+s.default.random(-.1,.1),this.directionVector.y+s.default.random(-.1,.1)),this.node.angle=Math.atan2(this.directionVector.y,this.directionVector.x)*(180/Math.PI),this.lock=!0),null!=t&&!this.lock){this.lock=!0;var o=this.target.x-this.node.x,n=this.target.y-this.node.y;this.directionVector=cc.v2(o,n).normalize(),this.node.angle=Math.atan2(this.directionVector.y,this.directionVector.x)*(180/Math.PI)}this.node.x+=this.directionVector.normalize().x*this.travelSpeed*e,this.node.y+=this.directionVector.normalize().y*this.travelSpeed*e},e.prototype.updateStats=function(){this.damage=this.damagePercentage/100*this.baseDamange+this.baseDamange,this.weaponScale=this.weaponScalePercentage/100*this.baseScale+this.baseScale,this.node.scale=this.weaponScale},e.prototype.set=function(t,e,o,n,i,r){this.baseDamange=e,this.damagePercentage=t,this.weaponScalePercentage=o,this.target=i,this.node.position=r,this.hitLimit=n,this.lock=!1,this.updateStats()},e.prototype.onLoad=function(){this.node.zIndex=10001,this.baseDamange=this.damage,this.baseScale=this.weaponScale,this.damagePercentage=0,this.weaponScalePercentage=0},e.prototype.start=function(){},e.prototype.update=function(t){s.default.isPause||(this.moveToTarget(this.target,t),this.putBackToPool())},r([u(cc.Float)],e.prototype,"damage",void 0),r([u(cc.Float)],e.prototype,"weaponScale",void 0),r([u(cc.Float)],e.prototype,"travelSpeed",void 0),r([u(cc.Float)],e.prototype,"hitLimit",void 0),r([u(cc.Boolean)],e.prototype,"isShootingAtTarget",void 0),r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Controller/Movement":"Movement","../Controller/Utils":"Utils","../Enemy/EnemyController":"EnemyController","../Manager/ProjectilePooling":"ProjectilePooling"}],Shield:[function(t,e,o){"use strict";cc._RF.push(e,"49abaKzDtZMdbL2TbK6fWVb","Shield");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Player/OverallStats"),l=t("../Player/PlayerController"),p=t("./Item"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseShield=15,e.baseResist=5,e.refreshTimer=15,e.timer=e.refreshTimer,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,a.default.instance.dynamicBuff.push(this),this.itemOnLoad(),this.description="Gain a shield that absorbs up to 15 damage. Every 15 seconds, this shield refreshes. Also reduces damage taken by 5%."},e.prototype.refreshShield=function(t){this.player.currentShield<this.player.maxShield?(this.timer-=t,this.timer<0&&(this.timer=this.refreshTimer,this.player.gainShield(this.baseShield))):this.timer=this.refreshTimer},e.prototype.onTakeDamage=function(){this.timer=15},e.prototype.updateStats=function(t,e){this.baseShield+=t,c.default.instance.increaseResistRate(e),this.addShieldToPlayer(t)},e.prototype.loadStats=function(){c.default.instance.increaseResistRate(this.baseResist),this.addShieldToPlayer(this.baseShield)},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.loadStats(),this.description="Gain a shield that absorbs up to 20 damage. Every 15 seconds, this shield refreshes. Also reduces damage taken by 10%.",this.isEquiped=!0,a.default.instance.addEquipedItem(this);break;case 2:this.description="Gain a shield that absorbs up to 25 damage. Every 15 seconds, this shield refreshes. Also reduces damage taken by 15%.",this.updateStats(5,5);break;case 3:this.description="Gain a shield that absorbs up to 30 damage. Every 15 seconds, this shield refreshes. Also reduces damage taken by 20%.",this.updateStats(5,5);break;case 4:this.description="Gain a shield that absorbs up to 35 damage. Every 15 seconds, this shield refreshes. Also reduces damage taken by 25%.",this.updateStats(5,5);break;case 5:this.updateStats(5,5)}},e.prototype.addShieldToPlayer=function(t){this.player.gainMaxShield(t)},e.prototype.start=function(){this.player=l.default.instance},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&this.refreshShield(t)},r([d(cc.Float)],e.prototype,"baseShield",void 0),r([d(cc.Float)],e.prototype,"baseResist",void 0),r([d(cc.Float)],e.prototype,"refreshTimer",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Player/OverallStats":"OverallStats","../Player/PlayerController":"PlayerController","./Item":"Item"}],ShurikenThrower:[function(t,e,o){"use strict";cc._RF.push(e,"805f4oXAZFOS7RmMDP7c/Kq","ShurikenThrower");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Manager/ProjectilePooling"),l=t("./OrbitProjectile"),p=t("./Weapon"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shuriken=null,e.player=null,e.parent=null,e.hitLimit=5,e.baseHitLimit=e.hitLimit,e.spawnAmount=3,e.shurikenList=new Array,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.durationPercentage=0,this.weaponOnLoad(),this.timer=0,this.description="Repels targets with orbiting shurikens.";for(var t=0;t<10;++t){var e=cc.instantiate(this.shuriken);e.parent=this.node.parent.parent,c.default.instance.shurikenPool.put(e)}},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Add 1 additional shuriken.",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Increase damage by 30% and increase duration by 1 second.",this.spawnAmount+=1;break;case 3:this.description="Add 1 additional shuriken.",this.updateStats(30,0,0,0,0,50);break;case 4:this.description="Increase Damage by 40%.",this.spawnAmount+=1;break;case 5:this.description="Add 1 additional shuriken.",this.updateStats(40,0,0,0,0,0);break;case 6:this.description="Increase damage by 40%.",this.spawnAmount+=1;break;case 7:this.updateStats(40,0,0,0,0,0)}},e.prototype.spawnShuriken=function(t){var e=null;(e=c.default.instance.shurikenPool.size()>0?c.default.instance.shurikenPool.get():cc.instantiate(this.shuriken)).opacity=0,cc.tween(e).to(.05,{opacity:255}).start(),e.parent=this.parent,e.getComponent(l.default).setStats(this.resultDamagePercentage,this.baseDamage,this.resultWeaponScalePercentage,this.durationPercentage,this.player,t),this.shurikenList.push(e)},e.prototype.updateStats=function(t,e,o,n,i,r){this.damagePercentage+=t,this.baseDamage+=e,this.hitLimit+=o,this.attackSpeedPercentage+=n,this.weaponScalePercentage+=i,this.durationPercentage+=r,this.onStatChange()},e.prototype.throwShuriken=function(){if(this.timer<0){this.timer=this.attackSpeed,this.hitLimit=this.baseHitLimit*this.spawnAmount;for(var t=0;t<this.spawnAmount;t++){var e=360/this.spawnAmount*t*(Math.PI/180);this.spawnShuriken(e)}}this.shurikenList=this.shurikenList.filter(function(t){return!0!==t.getComponent(l.default).isInPool})},e.prototype.onNoHitLimit=function(){this.hitLimit<=0&&this.shurikenList.forEach(function(t){t.getComponent(l.default).forceToPutBack()})},e.prototype.start=function(){},e.prototype.update=function(t){this.onLevelUp(),s.default.isPause||this.isEquiped&&(this.timer-=t,this.throwShuriken(),this.onNoHitLimit())},r([d(cc.Prefab)],e.prototype,"shuriken",void 0),r([d(cc.Node)],e.prototype,"player",void 0),r([d(cc.Node)],e.prototype,"parent",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Manager/ProjectilePooling":"ProjectilePooling","./OrbitProjectile":"OrbitProjectile","./Weapon":"Weapon"}],SlerpTest:[function(t,e,o){"use strict";cc._RF.push(e,"5c98dV3VKFEb5GiKP3Olwy6","SlerpTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startAngle=Math.PI/4,e.targetAngle=4*Math.PI/4,e.totalTime=1,e.currentTime=0,e}return i(e,t),e.prototype.slerp=function(t,e,o){function n(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}t=n(t);var i=(e=n(e))-t;return Math.abs(i)>Math.PI&&(i>0?e-=2*Math.PI:e+=2*Math.PI),n(t+o*(e-t))},e.prototype.update=function(t){this.currentTime+=t,this.currentTime>=this.totalTime&&(this.currentTime=this.totalTime);var e=this.currentTime/this.totalTime,o=this.slerp(this.startAngle,this.targetAngle,e);this.node.angle=cc.misc.radiansToDegrees(o)},r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],SlotController:[function(t,e,o){"use strict";cc._RF.push(e,"145b7r+bNZJHoxfw9nmx9MA","SlotController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./GameController"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponSlotList=new Array,e.itemSlotList=new Array,e.nullSpriteFrame=null,e.itemList=new Array,e.weaponList=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.updateSlot=function(){this.itemList=a.default.instance.equipedItem,this.weaponList=a.default.instance.equipedWeapon;for(var t=0;t<this.weaponSlotList.length&&null!=this.weaponList[t];t++)this.weaponList[t].displayIcon?this.weaponSlotList[t].getChildByName("WeaponIcon").getComponent(cc.Sprite).spriteFrame=this.weaponList[t].displayIcon:this.weaponSlotList[t].getChildByName("WeaponIcon").getComponent(cc.Sprite).spriteFrame=this.nullSpriteFrame,this.weaponSlotList[t].getChildByName("WeaponLevelLabel").getComponent(cc.Label).string="LV "+this.weaponList[t].level,this.weaponSlotList[t].getChildByName("WeaponIcon").opacity=255;for(t=0;t<this.itemSlotList.length&&null!=this.itemList[t];t++)this.itemList[t].displayIcon?this.itemSlotList[t].getChildByName("ItemIcon").getComponent(cc.Sprite).spriteFrame=this.itemList[t].displayIcon:this.itemSlotList[t].getChildByName("ItemIcon").getComponent(cc.Sprite).spriteFrame=this.nullSpriteFrame,this.itemSlotList[t].getChildByName("ItemLevelLabel").getComponent(cc.Label).string="LV "+this.itemList[t].level,this.itemSlotList[t].getChildByName("ItemIcon").opacity=255},e.prototype.start=function(){},e.prototype.update=function(){this.updateSlot()},r([l(Array(cc.Node))],e.prototype,"weaponSlotList",void 0),r([l(Array(cc.Node))],e.prototype,"itemSlotList",void 0),r([l(cc.SpriteFrame)],e.prototype,"nullSpriteFrame",void 0),o=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GameController":"GameController"}],Sound:[function(t,e,o){"use strict";cc._RF.push(e,"82d38zYk45A5JW5Dsd2V51q","Sound");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audible=null,e.mute=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this},e.prototype.start=function(){},e.prototype.update=function(){"true"==a.default.getLocal("Sound")?this.node.getComponent(cc.Sprite).spriteFrame=this.audible:this.node.getComponent(cc.Sprite).spriteFrame=this.mute},r([l(cc.SpriteFrame)],e.prototype,"audible",void 0),r([l(cc.SpriteFrame)],e.prototype,"mute",void 0),o=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Controller/Utils":"Utils"}],SpiderCooking:[function(t,e,o){"use strict";cc._RF.push(e,"49d17zdk5dLOIo96OSB+zhp","SpiderCooking");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("../Enemy/EnemyController"),l=t("./Weapon"),p=cc._decorator,h=p.ccclass,u=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentLevel=e.level,e}return i(e,t),e.prototype.onLoad=function(){this.weaponOnLoad(),this.description="Create an area of miasma around, dealing slow damage to enemies inside.",this.node.zIndex=1,this.node.getComponent(cc.Sprite).enabled=!1,this.node.getComponent(cc.CircleCollider).enabled=!1},e.prototype.onCollisionStay=function(t){if(1==t.tag){var e=this.baseDamage+this.baseDamage*this.resultDamagePercentage/100;t.node.getComponent(c.default).takeDamageWithTick(e,this.attackSpeed)}},e.prototype.updateStats=function(t,e,o){this.damagePercentage+=t,this.attackSpeedPercentage+=e,this.node.scale+=o/100,this.onStatChange()},e.prototype.onLevelUp=function(){if(!this.isLockLevel){if(this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase area by 15%.",this.isEquiped=!0,this.node.getComponent(cc.Sprite).enabled=!0,this.node.getComponent(cc.CircleCollider).enabled=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Increase damage by 30%.",this.updateStats(0,0,15);break;case 3:this.description="Increase area by 25%.",this.updateStats(30,0,0);break;case 4:this.description="Increase frequency of hits by 20%.",this.updateStats(0,0,25);break;case 5:this.description="Increase damage by 30%.",this.updateStats(0,20,0);break;case 6:this.description="Increase damage by 30%.",this.updateStats(0,30,0);break;case 7:this.updateStats(0,30,0)}return!0}},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),this.isEquiped&&(s.default.isPause?this.node.getComponent(cc.Animation).pause():this.node.getComponent(cc.Animation).resume())},r([h],e)}(l.default));o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","../Enemy/EnemyController":"EnemyController","./Weapon":"Weapon"}],SpiralProjectile:[function(t,e,o){"use strict";cc._RF.push(e,"1912f9dqKhLZJdO/kDnBkla","SpiralProjectile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=t("../Manager/ProjectilePooling"),c=t("../Weapon/Projectile"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=3,e.baseDuration=e.duration,e.durationPercentage=0,e.currentTime=0,e.startRadius=100,e.currentRadius=100,e.maxRadius=400,e.angleDelta=0,e.pivot=null,e.interval=.01,e.time=e.interval,e.previous=null,e.trailList=new Array,e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this.node.zIndex=1e4,this.baseDamange=this.damage,this.baseScale=this.weaponScale,this.damagePercentage=0,this.weaponScalePercentage=0,this.currentRadius=this.startRadius},e.prototype.updateStats=function(){this.damage=this.damagePercentage/100*this.baseDamange+this.baseDamange,this.weaponScale=this.weaponScalePercentage/100*this.baseScale+this.baseScale,this.duration=this.baseDuration+this.durationPercentage/100*this.baseDuration,this.node.scale=this.weaponScale},e.prototype.setStats=function(t,e,o,n,i,r){this.time=this.interval,this.angleDelta=0,this.currentRadius=this.startRadius,this.currentTime=0,this.baseDamange=e,this.damagePercentage=t,this.weaponScalePercentage=o,this.pivot=r,this.hitLimit=n,this.durationPercentage=i,this.lock=!1,this.updateStats()},e.prototype.putBackToPool=function(){this.hitLimit<=0&&(this.trailList.forEach(function(t){s.default.instance.putBackToPool(t)}),this.trailList.length=0,s.default.instance.putBackToPool(this.node)),this.currentTime>=this.duration&&(this.trailList.forEach(function(t){s.default.instance.putBackToPool(t)}),this.trailList.length=0,s.default.instance.putBackToPool(this.node))},e.prototype.spinAround=function(t){this.addTrail(t),this.node.angle+=1500*t,this.angleDelta-=4*t,this.currentRadius+=90*t,this.currentRadius>this.maxRadius&&(this.currentRadius=this.maxRadius),this.node.x=this.pivot.x+this.currentRadius*Math.cos(this.angleDelta),this.node.y=this.pivot.y+this.currentRadius*Math.sin(this.angleDelta)},e.prototype.addTrail=function(t){if(this.time>0)this.time-=t;else{this.time=this.interval;var e=null;null==(e=s.default.instance.trailPool.get())&&(e=new cc.Node("Trail")),this.trailList.push(e),e.parent=this.node.parent,e.scale=this.node.scale,e.opacity=200,e.angle=this.node.angle,e.zIndex=9999,e.position=cc.v3(this.node.x,this.node.y),null!=e.getComponent(cc.Sprite)?e.getComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame:e.addComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame,e.setContentSize(this.node.getContentSize()),cc.tween(e).to(.08,{opacity:0}).start()}},e.prototype.update=function(t){a.default.isPause||(this.currentTime+=t,this.spinAround(t),this.putBackToPool())},r([h(cc.Float)],e.prototype,"duration",void 0),r([h(cc.Float)],e.prototype,"startRadius",void 0),r([h(cc.Float)],e.prototype,"maxRadius",void 0),r([p],e)}(c.default);o.default=u,cc._RF.pop()},{"../Controller/Utils":"Utils","../Manager/ProjectilePooling":"ProjectilePooling","../Weapon/Projectile":"Projectile"}],StartWeapon:[function(t,e,o){"use strict";cc._RF.push(e,"7a9f1I2Cy5NwJGDgc1OLGjr","StartWeapon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Player/OverallStats"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.maxLevel=7,e.isEquiped=!1,e.isResizeable=!0,e.baseDamage=20,e.isLockLevel=!1,e.description=null,e.attackSpeed=2,e.minAS=1,e.displayIcon=null,e}var o;return i(e,t),o=e,e.prototype.start=function(){},e.prototype.onLevelMax=function(){this.level>=this.maxLevel&&(this.isLockLevel=!0)},e.prototype.weaponOnLoad=function(){o.instance=this,this.overallStat=a.default.instance,this.name=this.node.name,this.baseAS=this.attackSpeed,this.damagePercentage=0,this.attackSpeedPercentage=0,this.weaponScalePercentage=0,this.resultDamagePercentage=0,this.resultAttackSpeedPercentage=0,this.resultWeaponScalePercentage=0,this.onStatChange()},e.prototype.onStatChange=function(){this.resultDamagePercentage=this.damagePercentage+this.overallStat.getAttackRate(),this.resultWeaponScalePercentage=this.weaponScalePercentage,this.isResizeable&&(this.resultWeaponScalePercentage=this.weaponScalePercentage+this.overallStat.getWeaponSizeRate()),this.resultAttackSpeedPercentage=this.attackSpeedPercentage+this.overallStat.getHasteRate(),this.attackSpeed=this.baseAS-this.baseAS*this.resultAttackSpeedPercentage/100,this.attackSpeed<this.minAS&&(this.attackSpeed=this.minAS)},r([l(cc.Float)],e.prototype,"level",void 0),r([l(cc.Float)],e.prototype,"maxLevel",void 0),r([l(cc.Boolean)],e.prototype,"isResizeable",void 0),r([l(cc.Float)],e.prototype,"baseDamage",void 0),r([l(cc.Float)],e.prototype,"attackSpeed",void 0),r([l(cc.Float)],e.prototype,"minAS",void 0),r([l(cc.SpriteFrame)],e.prototype,"displayIcon",void 0),o=r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Player/OverallStats":"OverallStats"}],Sword:[function(t,e,o){"use strict";cc._RF.push(e,"1345bSW42tDqoSdTpptD0bR","Sword");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Movement"),c=t("../Controller/Utils"),l=t("./Melee"),p=t("./StartWeapon"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftWhip=null,e.rightWhip=null,e.slashSound=null,e.stats=null,e.statsLeft=null,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.weaponOnLoad(),o.instance=this,this.stats=this.node.getChildByName("Right").getComponent(l.default),this.statsLeft=this.node.getChildByName("Left").getComponent(l.default),this.timer=this.attackSpeed,this.description="Swings in a half circle arc in front.",this.unactiveLeftWhip(),this.unactiveRightWhip()},e.prototype.onLevelUp=function(){if(!this.isLockLevel){if(this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase damage by 20%.",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Add one more attack to the back.",this.updateSwordStats(0,20,0,0);break;case 3:this.description="Increase damage by 30%.";break;case 4:this.description="Reduce the time between attacks by 30%.",this.updateSwordStats(0,30,0,0);break;case 5:this.description="Increase attack area by 30%.",this.updateSwordStats(0,0,30,0);break;case 6:this.description="Increase damage by 40%.",this.updateSwordStats(0,0,0,30);break;case 7:this.updateSwordStats(0,40,0,0)}return!0}},e.prototype.updateSwordStats=function(t,e,o,n){this.baseDamage+=t,this.attackSpeedPercentage+=o,this.damagePercentage+=e,this.weaponScalePercentage+=n,this.onStatChange()},e.prototype.start=function(){},e.prototype.attackRight=function(){this.timer<0&&("true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.slashSound,!1,1),this.timer=this.attackSpeed,this.rightWhip.active=!0,this.stats.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.rightWhip.getComponent(cc.Animation).play("SlashAnimation"),this.unactiveRightWhip())},e.prototype.attackLeft=function(){this.timer<0&&(this.timer=this.attackSpeed,"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.slashSound,!1,1),this.leftWhip.active=!0,this.statsLeft.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.leftWhip.getComponent(cc.Animation).play("SlashAnimation"),this.unactiveLeftWhip())},e.prototype.attackBothSide=function(){var t=this;this.timer<0&&(this.stats.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.statsLeft.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),s.default.instance.isFlip?(this.timer=this.attackSpeed,"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.slashSound,!1,1),this.leftWhip.scaleY=-1*this.stats.weaponScaleY,this.leftWhip.active=!0,this.leftWhip.getComponent(cc.Animation).play("SlashAnimation"),this.unactiveLeftWhip(),setTimeout(function(){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(t.slashSound,!1,1),t.rightWhip.scaleY=1*t.stats.weaponScaleY,t.rightWhip.active=!0,t.rightWhip.getComponent(cc.Animation).play("SlashAnimation"),t.unactiveRightWhip()},250)):(this.timer=this.attackSpeed,"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.slashSound,!1,1),this.rightWhip.scaleY=1*this.stats.weaponScaleY,this.rightWhip.active=!0,this.rightWhip.getComponent(cc.Animation).play("SlashAnimation"),this.unactiveRightWhip(),setTimeout(function(){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(t.slashSound,!1,1),t.leftWhip.scaleY=-1*t.stats.weaponScaleY,t.leftWhip.active=!0,t.leftWhip.getComponent(cc.Animation).play("SlashAnimation"),t.unactiveLeftWhip()},250)))},e.prototype.unactiveLeftWhip=function(){this.scheduleOnce(function(){this.leftWhip.active=!1},.3)},e.prototype.unactiveRightWhip=function(){this.scheduleOnce(function(){this.rightWhip.active=!1},.3)},e.prototype.perfromAttack=function(){this.timer<0&&(this.node.angle=Math.atan2(s.default.instance.directionVector.y,s.default.instance.directionVector.x)*(180/Math.PI),s.default.instance.isFlip?this.node.scaleX=-1:this.node.scaleX=1),this.level<3&&(s.default.instance.isFlip?this.attackLeft():this.attackRight()),this.level>=3&&this.attackBothSide()},e.prototype.update=function(t){this.onLevelUp(),c.default.isPause||this.isEquiped&&(this.timer-=t,this.perfromAttack())},r([d(cc.Node)],e.prototype,"leftWhip",void 0),r([d(cc.Node)],e.prototype,"rightWhip",void 0),r([d(cc.AudioClip)],e.prototype,"slashSound",void 0),o=r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Movement":"Movement","../Controller/Utils":"Utils","./Melee":"Melee","./StartWeapon":"StartWeapon"}],TerrainTile:[function(t,e,o){"use strict";cc._RF.push(e,"2ca5aR9BG1Dho0xvn2ra92f","TerrainTile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tilePosition=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([c(cc.Vec2)],e.prototype,"tilePosition",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ThrowableProjectile:[function(t,e,o){"use strict";cc._RF.push(e,"d3cf38Ri2VGc6DPWJLQub4W","ThrowableProjectile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/Utils"),s=t("../Enemy/EnemyController"),c=t("../Manager/ProjectilePooling"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.Vec2.ZERO,e.sprite=null,e.speed=1e3,e.damage=20,e.weaponScale=1,e.duration=3,e.lavaLand=null,e.targetPos=null,e.dt=0,e.isLanded=!1,e.timer=100,e.interval=.01,e.time=e.interval,e.lock=!1,e.curveY=0,e.travelTime=0,e.currentTime=0,e.previous=null,e.trailList=new Array,e}return i(e,t),e.prototype.onCollisionStay=function(t){1==t.tag&&t.node.getComponent(s.default).takeDamageWithTick(this.damage,.5)},e.prototype.set=function(t,e,o,n,i,r){this.baseDamange=e,this.damagePercentage=t,this.weaponScalePercentage=o,this.durationPercentage=n,this.targetPos=i,this.node.position=r,this.node.getComponent(cc.Animation).stop(),this.node.getComponent(cc.Sprite).spriteFrame=this.sprite,this.isLanded=!1,this.lock=!1,this.timer=100,this.currentTime=0,this.node.getComponent(cc.CircleCollider).enabled=!1,this.updateStats()},e.prototype.updateStats=function(){this.damage=this.damagePercentage/100*this.baseDamange+this.baseDamange,this.weaponScale=this.weaponScalePercentage/100*this.baseScale+this.baseScale,this.duration=-this.durationPercentage/100*this.baseDuration+this.baseDuration},e.prototype.onLand=function(){(!this.isLanded&&this.distanceToTarget()<50||!this.isLanded&&this.currentTime>this.travelTime)&&("true"==a.default.getLocal("Sound")&&cc.audioEngine.play(this.lavaLand,!1,1),this.node.zIndex=1,this.trailList.forEach(function(t){c.default.instance.putBackToPool(t)}),this.trailList.length=0,this.node.getComponent(cc.Animation).play("MollySpread"),this.node.scale=this.weaponScale/2,cc.tween(this.node).to(.42,{scale:this.weaponScale}).start(),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.getComponent(cc.CircleCollider).enabled=!0,this.isLanded=!0),!this.isLanded||this.node.getComponent(cc.Animation).getAnimationState("MollySpread").isPlaying||this.node.getComponent(cc.Animation).getAnimationState("MollyOnGround").isPlaying||(this.timer=this.duration,this.node.getComponent(cc.Animation).play("MollyOnGround"))},e.prototype.distanceToTarget=function(){var t=(this.targetPos.x-this.node.x)*(this.targetPos.x-this.node.x),e=(this.targetPos.y-this.node.y)*(this.targetPos.y-this.node.y);return Math.sqrt(t+e)},e.prototype.onLoad=function(){this.node.getComponent(cc.CircleCollider).enabled=!1,this.node.scale=.3,this.node.zIndex=10001,this.baseDamange=this.damage,this.baseDuration=this.duration,this.baseScale=this.weaponScale,this.damagePercentage=0,this.weaponScalePercentage=0,this.durationPercentage=0},e.prototype.start=function(){},e.prototype.lockTarget=function(){if(!this.isLanded&&!this.lock){this.lock=!0;var t=this.targetPos.x-this.node.x,e=this.targetPos.y-this.node.y;this.directionVector=cc.v2(t,e),this.travelTime=this.distanceToTarget()/this.speed,this.travelTime>.5&&(this.travelTime=.5),this.velocity=cc.v2(this.directionVector.normalize().x*this.speed,this.directionVector.normalize().y*this.speed+150),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.velocity.x,this.velocity.y)}},e.prototype.moveNode=function(t){this.isLanded||(this.node.scale=.3,this.addTrail(t),this.curveY=1e3*t,this.velocity.y-=this.curveY,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(this.velocity.x*t*50,this.velocity.y*t*50),this.node.angle=Math.atan2(this.velocity.y,this.velocity.x)*(180/Math.PI))},e.prototype.addTrail=function(t){if(this.time>0)this.time-=t;else{this.time=this.interval;var e=null;null==(e=c.default.instance.trailPool.get())&&(e=new cc.Node("Trail")),this.trailList.push(e),e.parent=this.node.parent,e.scale=this.node.scale,e.opacity=200,e.angle=this.node.angle,e.zIndex=9999,e.position=cc.v3(this.node.x,this.node.y),null!=e.getComponent(cc.Sprite)?e.getComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame:e.addComponent(cc.Sprite).spriteFrame=this.node.getComponent(cc.Sprite).spriteFrame,e.setContentSize(this.node.getContentSize()),cc.tween(e).to(.08,{opacity:0}).start()}},e.prototype.update=function(t){if(a.default.isPause)return this.node.getComponent(cc.Animation).pause(),void(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0));this.node.getComponent(cc.Animation).resume(),null!=this.targetPos&&(this.timer-=t,this.currentTime+=t,this.timer<0&&c.default.instance.putBackToPool(this.node),this.moveNode(t),this.lockTarget(t),this.onLand())},r([h(cc.SpriteFrame)],e.prototype,"sprite",void 0),r([h(cc.Float)],e.prototype,"damage",void 0),r([h(cc.Float)],e.prototype,"weaponScale",void 0),r([h(cc.Float)],e.prototype,"duration",void 0),r([h(cc.AudioClip)],e.prototype,"lavaLand",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Controller/Utils":"Utils","../Enemy/EnemyController":"EnemyController","../Manager/ProjectilePooling":"ProjectilePooling"}],Trident:[function(t,e,o){"use strict";cc._RF.push(e,"b0a27u68OxAsa5L6qIjpdoh","Trident");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Movement"),c=t("../Controller/Utils"),l=t("./Melee"),p=t("./StartWeapon"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftThrust=null,e.rightThrust=null,e.midThrust=null,e.thrustSound=null,e.statsRight=null,e.statsLeft=null,e.statsMiddle=null,e.currentLevel=e.level,e}return i(e,t),e.prototype.onLoad=function(){this.weaponOnLoad(),this.statsRight=this.node.getChildByName("Right").getComponent(l.default),this.statsLeft=this.node.getChildByName("Left").getComponent(l.default),this.statsMiddle=this.node.getChildByName("Middle").getComponent(l.default),this.timer=this.attackSpeed,this.description="Mid ranged stab attack in front.",this.unactiveLeftThrust(),this.unactiveRightThrust(),this.unactiveMiddleThrust()},e.prototype.updateSwordStats=function(t,e,o,n){this.baseDamage+=t,this.attackSpeedPercentage+=o,this.damagePercentage+=e,this.weaponScalePercentage+=n,this.onStatChange()},e.prototype.onLevelUp=function(){if(!this.isLockLevel){if(this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase damage by 20%.",this.isEquiped=!0,a.default.instance.addEquipedWeapon(this);break;case 2:this.description="Stab 1 extra time, forming a V shape.",this.updateSwordStats(0,20,0,0);break;case 3:this.description="Reduce time between attacks by 15%";break;case 4:this.description="Increase damage by 40%",this.updateSwordStats(0,0,15,0);break;case 5:this.description="Increase attack area by 25%.",this.updateSwordStats(0,40,0,0);break;case 6:this.description="Thrust 3 times, in a fork-like shape.",this.updateSwordStats(0,0,0,25)}return!0}},e.prototype.unactiveLeftThrust=function(){this.scheduleOnce(function(){this.leftThrust.active=!1},.3)},e.prototype.unactiveRightThrust=function(){this.scheduleOnce(function(){this.rightThrust.active=!1},.3)},e.prototype.unactiveMiddleThrust=function(){this.scheduleOnce(function(){this.midThrust.active=!1},.3)},e.prototype.perfromAttack=function(){this.timer<0&&(this.node.angle=Math.atan2(s.default.instance.directionVector.y,s.default.instance.directionVector.x)*(180/Math.PI)),this.level<3&&this.attackMiddle(),this.level>=7&&this.attackAllSide(),this.level>=3&&this.attackV()},e.prototype.attackRight=function(){this.timer<0&&("true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.timer=this.attackSpeed,this.rightThrust.active=!0,this.statsRight.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.rightThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveRightThrust())},e.prototype.attackMiddle=function(){this.timer<0&&("true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.timer=this.attackSpeed,this.midThrust.active=!0,this.statsMiddle.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.midThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveMiddleThrust())},e.prototype.attackLeft=function(){this.timer<0&&("true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.timer=this.attackSpeed,this.leftThrust.active=!0,this.statsLeft.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.leftThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveLeftThrust())},e.prototype.attackAllSide=function(){this.timer<0&&(this.statsRight.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.statsLeft.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.statsMiddle.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.timer=this.attackSpeed,"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.midThrust.active=!0,this.midThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveLeftThrust(),this.scheduleOnce(function(){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.rightThrust.active=!0,this.rightThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveRightThrust()},.15),this.scheduleOnce(function(){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.leftThrust.scaleX=this.statsRight.weaponScaleX,this.leftThrust.active=!0,this.leftThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveLeftThrust()},.3))},e.prototype.attackV=function(){this.timer<0&&(this.statsRight.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),this.statsLeft.set(this.baseDamage,this.resultDamagePercentage,this.resultWeaponScalePercentage),"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.timer=this.attackSpeed,this.rightThrust.active=!0,this.rightThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveRightThrust(),this.scheduleOnce(function(){"true"==c.default.getLocal("Sound")&&cc.audioEngine.play(this.thrustSound,!1,1),this.leftThrust.scaleX=this.statsRight.weaponScaleX,this.leftThrust.active=!0,this.leftThrust.getComponent(cc.Animation).play("ThrustAnimation"),this.unactiveLeftThrust()},.15))},e.prototype.update=function(t){this.onLevelUp(),c.default.isPause||this.isEquiped&&(this.timer-=t,this.perfromAttack())},r([d(cc.Node)],e.prototype,"leftThrust",void 0),r([d(cc.Node)],e.prototype,"rightThrust",void 0),r([d(cc.Node)],e.prototype,"midThrust",void 0),r([d(cc.AudioClip)],e.prototype,"thrustSound",void 0),r([u],e)}(p.default);o.default=f,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Movement":"Movement","../Controller/Utils":"Utils","./Melee":"Melee","./StartWeapon":"StartWeapon"}],UIController:[function(t,e,o){"use strict";cc._RF.push(e,"236acwHreNOfYvV22pE9Sju","UIController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Player/OverallStats"),s=t("../Player/PlayerController"),c=t("./GameController"),l=t("./OptionGenerator"),p=t("./SlotController"),h=t("./Utils"),u=cc._decorator,d=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.killLabel=null,e.coinLabel=null,e.expBar=null,e.screenCover=null,e.buffParent=null,e.buffNodePrefab=null,e.levelLabel=null,e.secondLabel=null,e.minusLabel=null,e.statsPanel=null,e.pauseMenu=null,e.upgradePanel=null,e.displayName=null,e.levelUpLabel=null,e.hpAmount=null,e.atkAmount=null,e.spdAmount=null,e.crtAmount=null,e.pickupAmount=null,e.hasteAmount=null,e.portrait=null,e.portraitList=new Array,e.gameOverLabel=null,e.retryButton=null,e.mainMenuButton=null,e.gainedHolocoins=null,e.buttonSound=null,e.dynamicBuff=new Array,e.buffNodeList=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.gameController=c.default.instance},e.prototype.onClickPauseButton=function(){"true"==h.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),this.gameController.isGameOver||(h.default.isPause=!0,this.statsPanel.active=!0,this.pauseMenu.active=!0)},e.prototype.onResumeButton=function(){"true"==h.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),this.gameController.isGameOver||(h.default.isPause=!1,this.statsPanel.active=!1,this.pauseMenu.active=!1)},e.prototype.onReturnButton=function(){"true"==h.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),h.default.isPause=!1,cc.director.loadScene("Main Menu")},e.prototype.onUpgradeButtonClick=function(t,e){"true"==h.default.getLocal("Sound")&&cc.audioEngine.play(this.buttonSound,!1,1),h.default.isPause=!1,this.statsPanel.active=!1,this.upgradePanel.active=!1,this.levelUpLabel.node.active=!1,l.default.instance.onOptionSelect(e),p.default.instance.updateSlot()},e.prototype.start=function(){},e.prototype.updateKillLabel=function(t){this.killLabel.string=t.toString()},e.prototype.updateCoinLabel=function(t){this.coinLabel.string=t.toString()},e.prototype.updateExp=function(t,e,o){this.levelLabel.string=t,this.expBar.getComponent(cc.Sprite).fillRange=o/e},e.prototype.addNewBuff=function(t){this.dynamicBuff.push(t);var e=cc.instantiate(this.buffNodePrefab);e.parent=this.buffParent,e.x=70*this.buffNodeList.length,e.getComponent(cc.Sprite).spriteFrame=t.buffIcon,e.getChildByName("Stack number").getComponent(cc.Label).string=t.getCounting(),this.buffNodeList.push(e)},e.prototype.setPortrait=function(t){this.portrait.getComponent(cc.Sprite).spriteFrame=this.portraitList[t],this.displayName.string=h.default.getCharacterByName().toString()},e.prototype.updateBuff=function(){for(var t=0;t<this.buffNodeList.length;t++)this.buffNodeList[t].getChildByName("Stack number").getComponent(cc.Label).string=this.dynamicBuff[t].getCounting()},e.prototype.onLevelUp=function(){l.default.instance.displayOptions(),h.default.isPause=!0,this.screenCover.active=!0,this.levelUpLabel.node.active=!0,this.statsPanel.active=!0,this.upgradePanel.active=!0},e.prototype.updateTimer=function(){var t=this.gameController.timer,e=Math.floor(t/60),o=Math.floor(t-60*e);this.minusLabel.string=(e<10?"0":"")+e,this.secondLabel.string=(o<10?"0":"")+o},e.prototype.updateStats=function(){this.overallStats=a.default.instance,this.hpAmount.string=Math.ceil(s.default.instance.currentHp)+" / "+Math.ceil(s.default.instance.maxHp),this.atkAmount.string=this.overallStats.getAttackRate().toString()+"%",this.spdAmount.string=this.overallStats.getSpeedRate().toString()+"%",this.crtAmount.string=this.overallStats.getCritChance().toString()+"%",this.pickupAmount.string=this.overallStats.getPickupRangeRate().toString()+"%",this.hasteAmount.string=this.overallStats.getHasteRate().toString()+"%"},e.prototype.onGameOver=function(){h.default.isPause=!0,cc.tween(this.gameOverLabel).to(3,{position:cc.v3(0,200)}).start(),this.scheduleOnce(function(){this.mainMenuButton.active=!0,this.retryButton.active=!0,this.gainedHolocoins.node.active=!0,this.gainedHolocoins.string="Holocoins Gained: "+this.coinLabel.string},3)},e.prototype.onRetryButtonClick=function(){cc.director.loadScene("Gamescene")},e.prototype.onMainMenuButtonClick=function(){cc.director.loadScene("Main Menu")},e.prototype.update=function(){h.default.isPause?this.screenCover.active=!0:(this.screenCover.active=!1,this.updateTimer(),this.updateBuff())},r([f(cc.Label)],e.prototype,"killLabel",void 0),r([f(cc.Label)],e.prototype,"coinLabel",void 0),r([f(cc.Node)],e.prototype,"expBar",void 0),r([f(cc.Node)],e.prototype,"screenCover",void 0),r([f(cc.Node)],e.prototype,"buffParent",void 0),r([f(cc.Prefab)],e.prototype,"buffNodePrefab",void 0),r([f(cc.Label)],e.prototype,"levelLabel",void 0),r([f(cc.Label)],e.prototype,"secondLabel",void 0),r([f(cc.Label)],e.prototype,"minusLabel",void 0),r([f(cc.Node)],e.prototype,"statsPanel",void 0),r([f(cc.Node)],e.prototype,"pauseMenu",void 0),r([f(cc.Node)],e.prototype,"upgradePanel",void 0),r([f(cc.Label)],e.prototype,"displayName",void 0),r([f(cc.Label)],e.prototype,"levelUpLabel",void 0),r([f(cc.Label)],e.prototype,"hpAmount",void 0),r([f(cc.Label)],e.prototype,"atkAmount",void 0),r([f(cc.Label)],e.prototype,"spdAmount",void 0),r([f(cc.Label)],e.prototype,"crtAmount",void 0),r([f(cc.Label)],e.prototype,"pickupAmount",void 0),r([f(cc.Label)],e.prototype,"hasteAmount",void 0),r([f(cc.Node)],e.prototype,"portrait",void 0),r([f(Array(cc.SpriteFrame))],e.prototype,"portraitList",void 0),r([f(cc.Node)],e.prototype,"gameOverLabel",void 0),r([f(cc.Node)],e.prototype,"retryButton",void 0),r([f(cc.Node)],e.prototype,"mainMenuButton",void 0),r([f(cc.Label)],e.prototype,"gainedHolocoins",void 0),r([f(cc.AudioClip)],e.prototype,"buttonSound",void 0),o=r([d],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Player/OverallStats":"OverallStats","../Player/PlayerController":"PlayerController","./GameController":"GameController","./OptionGenerator":"OptionGenerator","./SlotController":"SlotController","./Utils":"Utils"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"b9897yMpl9NvbK8XCL3SHQJ","Utils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=(r.ccclass,r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.worldSpaceToLocal=function(){},e.randomFloor=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.random=function(t,e){return Math.random()*(e-t)+t},e.getLocal=function(t){return cc.sys.localStorage.getItem("Holo"+t)},e.setLocal=function(t,e){return cc.sys.localStorage.setItem("Holo"+t,e)},e.wait=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},e.setCharacter=function(t){this.currentCharacter=t},e.setCharacterLevel=function(t){this.characterLevel=t},e.getCharacterByName=function(){return this.currentCharacter},e.getCharacterLevel=function(){return this.characterLevel},e.currentCharacter=null,e.characterLevel=null,e.isPause=!1,e}(cc.Component));o.default=a,cc._RF.pop()},{}],Weapon:[function(t,e,o){"use strict";cc._RF.push(e,"114abOp/y5Ny4Oop+uvGgCq","Weapon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Player/OverallStats"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.maxLevel=7,e.isEquiped=!1,e.isResizeable=!0,e.baseDamage=20,e.isLockLevel=!1,e.description=null,e.attackSpeed=2,e.minAS=1,e.displayIcon=null,e}var o;return i(e,t),o=e,e.prototype.start=function(){},e.prototype.onLevelMax=function(){this.level>=this.maxLevel&&(this.isLockLevel=!0)},e.prototype.weaponOnLoad=function(){o.instance=this,a.default.instance.addWeapon(this),this.overallStat=s.default.instance,this.name=this.node.name,this.baseAS=this.attackSpeed,this.damagePercentage=0,this.attackSpeedPercentage=0,this.weaponScalePercentage=0,this.resultDamagePercentage=0,this.resultAttackSpeedPercentage=0,this.resultWeaponScalePercentage=0,this.onStatChange()},e.prototype.onStatChange=function(){this.resultDamagePercentage=this.damagePercentage+this.overallStat.getAttackRate(),this.resultWeaponScalePercentage=this.weaponScalePercentage,this.isResizeable&&(this.resultWeaponScalePercentage=this.weaponScalePercentage+this.overallStat.getWeaponSizeRate()),this.resultAttackSpeedPercentage=this.attackSpeedPercentage+this.overallStat.getHasteRate(),this.attackSpeed=this.baseAS-this.baseAS*this.resultAttackSpeedPercentage/100,this.attackSpeed<this.minAS&&(this.attackSpeed=this.minAS)},r([p(cc.Float)],e.prototype,"level",void 0),r([p(cc.Float)],e.prototype,"maxLevel",void 0),r([p(cc.Boolean)],e.prototype,"isResizeable",void 0),r([p(cc.Float)],e.prototype,"baseDamage",void 0),r([p(cc.Float)],e.prototype,"attackSpeed",void 0),r([p(cc.Float)],e.prototype,"minAS",void 0),r([p(cc.SpriteFrame)],e.prototype,"displayIcon",void 0),o=r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Controller/GameController":"GameController","../Player/OverallStats":"OverallStats"}],WisdomStone:[function(t,e,o){"use strict";cc._RF.push(e,"0874crcm+ZPvKqsI4mxBc56","WisdomStone");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Controller/GameController"),s=t("../Controller/Utils"),c=t("./Item"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expBonusRate=10,e.currentLevel=e.level,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.itemOnLoad(),this.description="Increase EXP gain by 10%."},e.prototype.onLevelUp=function(){if(!this.isLockLevel&&this.currentLevel<this.level)switch(this.onLevelMax(),this.currentLevel=this.level,this.level){case 1:this.description="Increase EXP gain by 15%.",this.isEquiped=!0,this.loadStats(),a.default.instance.addEquipedItem(this);break;case 2:this.description="Increase EXP gain by 20%.",this.updateStats(5);break;case 3:this.description="Increase EXP gain by 25%.",this.updateStats(5);break;case 4:this.description="Increase EXP gain by 30%.",this.updateStats(5);break;case 5:this.updateStats(5)}},e.prototype.loadStats=function(){this.overallStats.increaseBonusExpRate(this.expBonusRate)},e.prototype.updateStats=function(t){this.overallStats.increaseBonusExpRate(t)},e.prototype.start=function(){},e.prototype.update=function(){this.onLevelUp(),s.default.isPause||this.isEquiped},r([h(cc.Float)],e.prototype,"expBonusRate",void 0),o=r([p],e)}(c.default);o.default=u,cc._RF.pop()},{"../Controller/GameController":"GameController","../Controller/Utils":"Utils","./Item":"Item"}],WorldScrolling:[function(t,e,o){"use strict";cc._RF.push(e,"1aaa0ZNALtGtJ2LEPuLk3xj","WorldScrolling");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.tileSize=3849,e.terrainTiles=[],e.scrollDistance=3*e.tileSize,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,this.tileSize=this.tileSize/2,this.changeDistance=3*this.tileSize},e.prototype.start=function(){},e.prototype.update=function(){for(var t=0;t<this.terrainTiles.length;t++){var e=this.player.x-this.terrainTiles[t].x,o=this.player.y-this.terrainTiles[t].y;e>=this.changeDistance&&(this.terrainTiles[t].x+=this.scrollDistance),e<=-this.changeDistance&&(this.terrainTiles[t].x-=this.scrollDistance),o>=this.changeDistance&&(this.terrainTiles[t].y+=this.scrollDistance),o<=-this.changeDistance&&(this.terrainTiles[t].y-=this.scrollDistance)}},r([c(cc.Node)],e.prototype,"player",void 0),r([c(cc.Integer)],e.prototype,"tileSize",void 0),r([c(cc.Node)],e.prototype,"terrainTiles",void 0),o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["CameraController","GameController","MenuController","Movement","OptionGenerator","OptionTest","SlotController","UIController","Utils","WorldScrolling","EnemyController","EnemyManager","BaneOfRegeneration","BloodyTear","Dumbbell","EyePatch","GrowthPill","HastePotion","Item","KnightyMilk","MightyStone","Shield","WisdomStone","Level","ObjectPooling","ProjectilePooling","BarslideEffect","Button","Sound","Coin","DeathHeart","DestroyableObject","Experience","Food","Magnet","Pickup","EnemyDetector","HealthAndShield","OverallStats","PlayerController","SlerpTest","TerrainTile","AxeThrower","Bow","Melee","MollyThrower","OrbitProjectile","Projectile","ShurikenThrower","SpiderCooking","SpiralProjectile","StartWeapon","Sword","ThrowableProjectile","Trident","Weapon"]);