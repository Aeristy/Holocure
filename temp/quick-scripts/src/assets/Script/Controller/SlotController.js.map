{"version":3,"sources":["assets\\Script\\Controller\\SlotController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport GameController from \"./GameController\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class SlotController extends cc.Component {\n  @property(Array(cc.Node))\n  weaponSlotList: Array<cc.Node> = new Array<cc.Node>();\n  @property(Array(cc.Node))\n  itemSlotList: Array<cc.Node> = new Array<cc.Node>();\n  @property(cc.SpriteFrame)\n  nullSpriteFrame: cc.SpriteFrame = null;\n  itemList: Array<any> = new Array<any>();\n  weaponList: Array<any> = new Array<any>();\n  static instance: SlotController;\n  onLoad() {\n    SlotController.instance = this;\n  }\n  updateSlot() {\n    this.itemList = GameController.instance.equipedItem;\n    this.weaponList = GameController.instance.equipedWeapon;\n    // console.log(this.weaponList);\n\n    for (let i = 0; i < this.weaponSlotList.length; i++) {\n      if (this.weaponList[i] == undefined) break;\n      if (this.weaponList[i].displayIcon)\n        this.weaponSlotList[i]\n          .getChildByName(\"WeaponIcon\")\n          .getComponent(cc.Sprite).spriteFrame = this.weaponList[i].displayIcon;\n      else\n        this.weaponSlotList[i]\n          .getChildByName(\"WeaponIcon\")\n          .getComponent(cc.Sprite).spriteFrame = this.nullSpriteFrame;\n      this.weaponSlotList[i]\n        .getChildByName(\"WeaponLevelLabel\")\n        .getComponent(cc.Label).string = \"LV \" + this.weaponList[i].level;\n      this.weaponSlotList[i].getChildByName(\"WeaponIcon\").opacity = 255;\n    }\n    for (let i = 0; i < this.itemSlotList.length; i++) {\n      if (this.itemList[i] == undefined) break;\n      if (this.itemList[i].displayIcon)\n        this.itemSlotList[i]\n          .getChildByName(\"ItemIcon\")\n          .getComponent(cc.Sprite).spriteFrame = this.itemList[i].displayIcon;\n      else\n        this.itemSlotList[i]\n          .getChildByName(\"ItemIcon\")\n          .getComponent(cc.Sprite).spriteFrame = this.nullSpriteFrame;\n      this.itemSlotList[i]\n        .getChildByName(\"ItemLevelLabel\")\n        .getComponent(cc.Label).string = \"LV \" + this.itemList[i].level;\n      this.itemSlotList[i].getChildByName(\"ItemIcon\").opacity = 255;\n    }\n  }\n  start() {}\n\n  update(dt) {\n    this.updateSlot();\n  }\n}\n"]}