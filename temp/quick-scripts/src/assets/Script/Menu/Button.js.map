{"version":3,"sources":["assets\\Script\\Menu\\Button.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport Utils from \"../Controller/Utils\";\nimport Sound from \"./Sound\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Button extends cc.Component {\n  @property(cc.SpriteFrame)\n  normalSpr: cc.SpriteFrame = null;\n  @property(cc.SpriteFrame)\n  hoverSpr: cc.SpriteFrame = null;\n  @property(cc.Node)\n  other: cc.Node = null;\n  @property(cc.Boolean)\n  isFaded: boolean = false;\n  @property(cc.AudioClip)\n  buttonSound: cc.AudioClip = null;\n  @property(cc.Boolean)\n  changeOnHover: boolean = true;\n  onLoad() {\n    this.node.on(cc.Node.EventType.MOUSE_ENTER, this.onTouchStart, this, true);\n    this.node.on(cc.Node.EventType.MOUSE_LEAVE, this.onTouchEnd, this, true);\n    this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this, true);\n    this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this, true);\n  }\n  onTouchStart(event) {\n    if (!this.changeOnHover) return;\n    this.node.getChildByName(\"Label\").color = new cc.Color(0, 0, 0);\n    this.node.getChildByName(\"Background\").getComponent(cc.Sprite).spriteFrame =\n      this.hoverSpr;\n    this.node.getChildByName(\"Background\").opacity = 255;\n    if (this.other) this.other.color = new cc.Color(0, 0, 0);\n  }\n  onSoundButtonCLick() {\n    if (Utils.getLocal(\"Sound\") == \"true\")\n      cc.audioEngine.play(this.buttonSound, false, 1);\n    if (Utils.getLocal(\"Sound\") == \"true\") {\n      Utils.setLocal(\"Sound\", false);\n    } else {\n      Utils.setLocal(\"Sound\", true);\n    }\n  }\n  onTouchEnd(event) {\n    if (Utils.getLocal(\"Sound\") == \"true\")\n      cc.audioEngine.play(this.buttonSound, false, 1);\n    if (!this.changeOnHover) return;\n    this.node.getChildByName(\"Label\").color = new cc.Color(255, 255, 255);\n    this.node.getChildByName(\"Background\").getComponent(cc.Sprite).spriteFrame =\n      this.normalSpr;\n    if (this.isFaded) {\n      this.node.getChildByName(\"Background\").opacity = 150;\n    }\n    if (this.other) this.other.color = new cc.Color(255, 255, 255);\n  }\n  start() {}\n\n  update(dt) {}\n}\n"]}