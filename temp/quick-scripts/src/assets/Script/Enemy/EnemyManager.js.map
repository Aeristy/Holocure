{"version":3,"sources":["assets\\Script\\Enemy\\EnemyManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameController from \"../Controller/GameController\";\nimport Utils from \"../Controller/Utils\";\nimport EnemyController from \"./EnemyController\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class EnemyManager extends cc.Component {\n  static instance: EnemyManager;\n  @property(cc.Canvas)\n  canvas: cc.Canvas = null;\n  @property(cc.Node)\n  gameplay: cc.Node = null;\n  @property(cc.Node)\n  player: cc.Node = null;\n  @property(Array(cc.Prefab))\n  enemyPrefab: Array<cc.Prefab> = new Array<cc.Prefab>();\n  spawnTimer: number = 2;\n  enemyPool: Array<cc.NodePool> = new Array<cc.NodePool>();\n  batPool: cc.NodePool = null;\n  ghostPool: cc.NodePool = null;\n  povSize: cc.Vec2 = null;\n  spawnArea: cc.Vec2 = null;\n  spawnAreaMax: cc.Vec2 = null;\n  spawnRadius: number;\n  spawnAmount: number;\n  timer: number = 3;\n  currentTime: number = 0;\n\n  onLoad() {\n    EnemyManager.instance = this;\n\n    this.loadPool();\n    this.povSize = cc.v2(1000, 1000);\n    this.timer = 5;\n    this.spawnAmount = 5;\n    this.spawnRadius = 200;\n    this.spawnArea = cc.v2(\n      this.povSize.x + this.spawnRadius,\n      this.povSize.y + this.spawnRadius\n    );\n  }\n  loadPool() {\n    for (let i = 0; i < this.enemyPrefab.length; i++) {\n      var pool = new cc.NodePool();\n      let initCount = 20;\n      for (let j = 0; j < initCount; j++) {\n        var enemy = cc.instantiate(this.enemyPrefab[i]);\n        pool.put(enemy);\n      }\n      this.enemyPool.push(pool);\n    }\n  }\n  spawnEnemy(\n    spawnAmount: number,\n    speed: number,\n    maxHp: number,\n    scale: number,\n    damage: number,\n    expAmount: number,\n    enemyIndex: number\n  ) {\n    for (let i = 0; i < spawnAmount; i++) {\n      let enemy: cc.Node = null;\n      if (this.enemyPool[enemyIndex].size() > 0) {\n        enemy = this.enemyPool[enemyIndex].get();\n      } else {\n        enemy = cc.instantiate(this.enemyPrefab[enemyIndex]);\n      }\n      enemy\n        .getComponent(EnemyController)\n        .setter(speed, maxHp, scale, damage, expAmount);\n      enemy.parent = this.gameplay;\n      enemy.position = this.generateRandomPosition();\n    }\n  }\n  spawnDefaultEnemy(spawnAmount: number, enemyIndex: number) {\n    for (let i = 0; i < spawnAmount; i++) {\n      let enemy: cc.Node = null;\n      if (this.enemyPool[enemyIndex].size() > 0) {\n        enemy = this.enemyPool[enemyIndex].get();\n      } else {\n        enemy = cc.instantiate(this.enemyPrefab[enemyIndex]);\n      }\n      enemy.getComponent(EnemyController).resetStat();\n\n      enemy.parent = this.gameplay;\n      enemy.position = this.generateRandomPosition();\n    }\n  }\n  endlessSpawn() {\n    let hourTimer = Math.floor(GameController.instance.timer / 3600);\n    let minuteTimer = Math.floor(\n      (GameController.instance.timer - 3600 * hourTimer) / 60\n    );\n    let a =\n      minuteTimer <= 23 ? 37 * hourTimer : 37 * hourTimer + (minuteTimer - 23);\n    let ATK = 15 + 2 * a;\n    let SPD = 1 + 0.12 * a < 3 ? 1 + 0.12 * a : 3;\n    let HP = 5000 + 5000 * 0.05 * a;\n\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 15);\n    this.spawnEnemy(1, SPD, HP, 1.3, ATK, 25, 14);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 9);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 24);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 10);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 5);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 6);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 23);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 11);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 22);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 19);\n    this.spawnEnemy(1, SPD, HP, 1.5, ATK, 25, 21);\n  }\n  start() {}\n  generateRandomPosition() {\n    var position = cc.Vec3.ZERO;\n    position.x = this.player.x;\n    position.y = this.player.y;\n    var f = Utils.random(0, 1) > 0.5 ? -1 : 1;\n    if (Utils.random(0, 1) > 0.5) {\n      position.x += Utils.random(-this.spawnArea.x, this.spawnArea.x);\n      position.y += this.spawnArea.y * f;\n    } else {\n      position.y += Utils.random(-this.spawnArea.y, this.spawnArea.y);\n      position.x += this.spawnArea.x * f;\n    }\n    return position;\n  }\n  putBackToPool(node: cc.Node) {\n    if (!node) return;\n    for (let i = 0; i < this.enemyPrefab.length; i++) {\n      if (node.name == this.enemyPrefab[i].name) {\n        this.enemyPool[i].put(node);\n      }\n    }\n  }\n  update(dt) {\n    this.currentTime = GameController.instance.timer;\n    if (Utils.isPause) return;\n    this.timer -= dt;\n    if (this.timer < 0) {\n      if (this.currentTime < 180 && this.currentTime > 0) {\n        this.spawnDefaultEnemy(1, 0);\n      }\n      if (this.currentTime < 300 && this.currentTime > 30) {\n        this.spawnDefaultEnemy(1, 1);\n      }\n      if (this.currentTime < 300 && this.currentTime > 180) {\n        this.spawnDefaultEnemy(3, 2);\n      }\n      if (this.currentTime < 360 && this.currentTime > 240) {\n        this.spawnDefaultEnemy(6, 3);\n      }\n      if (this.currentTime < 510 && this.currentTime > 300) {\n        this.spawnDefaultEnemy(3, 4);\n      }\n      if (this.currentTime < 660 && this.currentTime > 300) {\n        this.spawnDefaultEnemy(2, 5);\n        this.spawnDefaultEnemy(2, 6);\n      }\n      if (this.currentTime < 510 && this.currentTime > 355) {\n        this.spawnDefaultEnemy(3, 7);\n      }\n      if (this.currentTime < 660 && this.currentTime > 330) {\n        this.spawnDefaultEnemy(3, 8);\n      }\n      if (this.currentTime < 660 && this.currentTime > 455) {\n        this.spawnDefaultEnemy(3, 9);\n      }\n      if (this.currentTime < 660 && this.currentTime > 570) {\n        this.spawnDefaultEnemy(6, 10);\n      }\n      if (this.currentTime < 840 && this.currentTime > 660) {\n        this.spawnDefaultEnemy(12, 11);\n      }\n      if (this.currentTime < 840 && this.currentTime > 720) {\n        this.spawnDefaultEnemy(2, 12);\n        this.spawnDefaultEnemy(2, 13);\n      }\n      if (this.currentTime < 960 && this.currentTime > 840) {\n        this.spawnDefaultEnemy(6, 14);\n        this.spawnDefaultEnemy(6, 15);\n      }\n      if (this.currentTime < 1140 && this.currentTime > 945) {\n        this.spawnDefaultEnemy(2, 16);\n        this.spawnDefaultEnemy(2, 17);\n        this.spawnDefaultEnemy(2, 18);\n        this.spawnDefaultEnemy(2, 19);\n        this.spawnDefaultEnemy(2, 20);\n      }\n      if (this.currentTime < 1140 && this.currentTime > 1080) {\n        this.spawnDefaultEnemy(2, 21);\n      }\n      if (this.currentTime < 1140 && this.currentTime > 1200) {\n        this.spawnDefaultEnemy(3, 22);\n        this.spawnDefaultEnemy(3, 23);\n      }\n      if (this.currentTime < 1200 && this.currentTime > 1380) {\n        this.spawnDefaultEnemy(6, 24);\n      }\n      if (this.currentTime > 1380) {\n        this.spawnTimer = 5;\n        this.endlessSpawn();\n      }\n\n      this.timer = this.spawnTimer;\n    }\n  }\n}\n"]}