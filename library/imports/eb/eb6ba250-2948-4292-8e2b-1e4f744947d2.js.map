{"version":3,"sources":["assets\\Script\\Weapon\\Melee.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEtF,4DAAuD;AAEjD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmC,yBAAY;IAA/C;QAAA,qEAuDC;QApDC,YAAM,GAAG,EAAE,CAAC;QAEZ,kBAAY,GAAG,CAAC,CAAC;QACjB,cAAQ,GAAmB,IAAI,CAAC;QAEhC,kBAAY,GAAG,CAAC,CAAC;;QA8CjB,iBAAiB;IACnB,CAAC;cAvDoB,KAAK;IAcxB,gCAAgB,GAAhB,UAAiB,KAAkB,EAAE,IAAiB;QACpD,IAAI,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE;YAClB,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,yBAAe,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAClE;IACH,CAAC;IACD,mBAAG,GAAH,UACE,UAAkB,EAClB,gBAAwB,EACxB,qBAA6B;QAE7B,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,IAAI,CAAC,qBAAqB,GAAG,qBAAqB,CAAC;QACnD,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IACD,2BAAW,GAAX;QACE,IAAI,CAAC,MAAM;YACT,CAAC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACtE,IAAI,CAAC,YAAY;YACf,CAAC,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACvE,IAAI,CAAC,YAAY;YACf,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,qBAAqB,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;gBAC7D,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;IACvC,CAAC;IACD,wBAAwB;IAExB,sBAAM,GAAN;QACE,OAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QACvD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;QACnC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;IACjC,CAAC;IAED,qBAAK,GAAL,cAAS,CAAC;;IAjDV;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;yCACP;IAEZ;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACF;IAGjB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACF;IARE,KAAK;QADzB,OAAO;OACa,KAAK,CAuDzB;IAAD,YAAC;CAvDD,AAuDC,CAvDkC,EAAE,CAAC,SAAS,GAuD9C;kBAvDoB,KAAK","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport EnemyController from \"../Enemy/EnemyController\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class Melee extends cc.Component {\n  static instance: Melee;\n  @property(cc.Float)\n  damage = 20;\n  @property(cc.Float)\n  weaponScaleX = 1;\n  collider: cc.BoxCollider = null;\n  @property(cc.Float)\n  weaponScaleY = 1;\n  baseDamange: number;\n  baseScale: number;\n  damagePercentage: number;\n\n  weaponScalePercentage: number;\n  onCollisionEnter(other: cc.Collider, self: cc.Collider) {\n    if (other.tag == 1) {\n      other.node.getComponent(EnemyController).takeDamage(this.damage);\n    }\n  }\n  set(\n    BaseDamage: number,\n    damagePercentage: number,\n    weaponScalePercentage: number\n  ) {\n    this.damage = BaseDamage;\n    this.damagePercentage = damagePercentage;\n    this.weaponScalePercentage = weaponScalePercentage;\n    this.updateStats();\n  }\n  updateStats() {\n    this.damage =\n      (this.damagePercentage / 100) * this.baseDamange + this.baseDamange;\n    this.weaponScaleX =\n      (this.weaponScalePercentage / 100) * this.baseScale + this.baseScale;\n    this.weaponScaleY =\n      Math.abs((this.weaponScalePercentage / 100) * this.baseScale) +\n      Math.abs(this.baseScale);\n    this.node.scaleX = this.weaponScaleX;\n    this.node.scaleY = this.weaponScaleY;\n  }\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    Melee.instance = this;\n    this.node.zIndex = 2;\n    this.collider = this.node.getComponent(cc.BoxCollider);\n    this.baseDamange = this.damage;\n    this.baseScale = this.weaponScaleX;\n    this.damagePercentage = 0;\n    this.weaponScalePercentage = 0;\n  }\n\n  start() {}\n\n  // update (dt) {}\n}\n"]}